/*! For license information please see 1998.c3c4f0ac.js.LICENSE.txt */
(self.webpackChunkwebnovel_pc=self.webpackChunkwebnovel_pc||[]).push([[1998],{8220:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(2137),a=o(7757),r=o.n(a),i=o(7113),s=o.n(i),l={selTrigger:null,isPreload:!0,$container:s()("body"),returnInstance:function(e){return new e},preLoadEvents:["focus","mouseenter"],onBeforeTrigger:function(e){return!0},onTrigger:function(e){return e}};function d(e){this.isLoading=!1,this.api=null,s().extend(!0,this,l,e),this.init()}d.prototype.init=function(){var e=this;e.selTrigger?(s().each(e.preLoadEvents,(function(t,o){e.$container.on(o,e.selTrigger,(function(){!e.isLoading&&e.getApi()}))})),e.$container.on("click",e.selTrigger,(function(t){t.preventDefault();var o=s()(this);!1!==e.onBeforeTrigger(o)&&(e.isLoading&&o.addClass("_loading"),e.getApi((function(t){o.removeClass("_loading"),e.onTrigger(t,o)})))}))):e.load(e.isPreload?"preload":null)},d.prototype.getApi=function(e){this.api?"function"==typeof e&&e(this.api):this.load(e)},d.prototype.load=function(){var e=(0,n.Z)(r().mark((function e(t){var o,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof(o=this).importApi){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,o.isLoading=!0,e.next=7,o.importApi();case 7:n=e.sent,a=n.default,o.isLoading=!1,o.api=o.returnInstance(a),"function"==typeof t&&t(o.api),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();const c=d},6144:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var n=o(7113),a=o.n(n),r=o(8220);const i=function(){new r.Z({selTrigger:".j_getApp",importApi:function(){return Promise.all([o.e(8592),o.e(8204),o.e(3153)]).then(o.bind(o,3153))},onTrigger:function(e){e.showMod("mod")}}),"appDownload"===a()("html").attr("data-disabled")||function(){try{if(!localStorage)return!1;var e=localStorage.getItem("appDownloadClosed");return!!e&&(new Date).getTime()-e<864e5}catch(e){return!1}}()||Promise.all([o.e(8592),o.e(8204),o.e(3153)]).then(o.bind(o,3153)).then((function(e){(new(0,e.default)).showMod()}))}},5892:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(484),a=o(7113),r=o.n(a),i=o(9981),s=o.n(i),l=o(3350),d=o(9507),c="dev"==g_data.env||"local"==g_data.env||"oa"==g_data.env?"oa":"",f="https://".concat(c,"passport.webnovel.com/login.html"),u="https://".concat(c,"ptlogin.webnovel.com/login/logout"),p={auto:1,appid:l.Z.appid,areaid:l.Z.areaid,target:"iframe",maskOpacity:50,popup:1,returnUrl:location.href,format:"redirect"};function g(e){this.init(),this.config(e.config),r().extend(!0,this,e)}g.prototype.config=function(e){e&&"object"==(0,n.Z)(e)&&r().extend(!0,p,e)},g.prototype.hideLoginIfr=function(){r()(".g_mod_login").removeClass("_on")},g.prototype.init=function(){var e=this;window.top===window.self&&(window.top.oversea_loginSuccess=function(t){window.qdReportUtm=this.qdReportUtm=function(e){for(var t=e?e.split("&"):[],o={},n=0;n<t.length;n++){var a=t[n].substring(0,t[n].indexOf("="));if(-1!=a.indexOf("utm")){var r=t[n].substring(t[n].indexOf("=")+1);o[a]=r}}return o}(s().get("QDReport_utm"));try{(0,d.hL)((function(){ga("send",{hitType:"event",eventCategory:"Login Success",eventAction:"Click",eventLabel:"Login Success"})}))}catch(e){}e.success(t)},window.top.oversea_loginError=function(){e.error()})},g.prototype.showLoginFirst=function(){var e=this,t=r()("body"),o=f+"?"+r().param(p),n=r()('<div class="g_mod_login g_mod_wrap"><div class="g_mod"><a href="###" class="_close"><svg><use xlink:href="#i-times"></use></svg></a><div class="g_loading"><i></i></div><iframe id="loginIfr" src="'+o+'" name="frameLG" id="frameLG" allowtransparentcy="true" width="100%" height="100%" scrolling="no" frameborder="no"></iframe></div></div>');return t.append(n),n.on("click.modal","._close",(function(t){t.preventDefault(),e.hideLogin(),e.onClose&&e.onClose()})).on("click.modal",(function(t){n.is(r()(t.target))&&!n.contains(t.target)&&(t.preventDefault(),e.hideLogin(),e.onClose&&e.onClose())})),setTimeout((function(){n.addClass("_on")}),0),n},g.prototype.hideLogin=function(){var e=r()(".g_mod_login");e&&e.removeClass("_on")},g.prototype.showLogin=function(){if(window.top!==window.self)window.location.href=this.getLoginUrl();else{var e=r()(".g_mod_login");e&&e.length?e.addClass("_on"):this.showLoginFirst()}},g.prototype.getLoginUrl=function(e){return p.popup=0,p.target="top",e&&"object"==(0,n.Z)(e)&&r().extend(!0,p,e),f+"?"+r().param(p)},g.prototype.getIfrLoginUrl=function(e){return e&&"object"==(0,n.Z)(e)&&r().extend(!0,p,e),f+"?"+r().param(p)},g.prototype.logout=function(){var e=this,t={appid:l.Z.appid,areaid:l.Z.areaid,source:"enweb",format:"redirect"},o=u+"?"+r().param(t),n=document.createElement("script");n.src=o,n.type="text/javascript",n.id="sso"+Math.random(),n.onloadDone=!1,n.onload=function(){n.onloadDone=!0,e.logoutSuccess()},n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||n.onloadDone||(n.onloadDone=!0,e.logoutSuccess())},document.getElementsByTagName("head")[0].appendChild(n),s().del("dontneedgoogleonetap","","/")},g.prototype.success=function(){location.reload()},g.prototype.error=function(){this.hideLoginIfr(),location.reload()},g.prototype.autoSuccess=function(){},g.prototype.autoError=function(){},g.prototype.logoutSuccess=function(){location.reload()},g.prototype.close=function(){alert("default close")},g.prototype.checkStatus=function(){var e,t=this,n={appid:l.Z.appid,areaid:l.Z.areaid,source:l.Z.source,format:"jsonp",auto:1};return e=""!=g_data.env&&"pre"!=g_data.env?"https://oaptlogin.webnovel.com/login/checkstatus?":"https://ptlogin.webnovel.com/login/checkstatus?",e+=r().param(n),r().ajax({type:"GET",async:!1,url:e,dataType:"jsonp",global:!1,jsonpCallback:"autoLoginHandler",jsonp:"method",success:function(e){0==e.code?t.autoSuccess():t.autoError(),Promise.resolve().then(o.bind(o,6542))},error:function(e){console.log(e)}})};const h=g},7398:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var n=o(484),a=o(7113),r=o.n(a);Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t});var i={container:"body",events:{},elements:{},render:function(){return this.setElement(),this.init(),this},setElement:function(){var e=this,t=e.container;"string"==typeof e.container&&(t=r()(e.container));var o=e.elements;!function e(t,o){r().each(o,(function(o,a){"string"==typeof a?t[o]=r()(a):r().isPlainObject(a)&&(t[o]&&"object"==(0,n.Z)(t[o])||(t[o]={}),e(t[o],a))}))}(e,o);var a=e.events;return t.length&&r().each(a,(function(o,n){var a=[],i="",s="",l=/:[a-zA-Z]+$/;l.test(o)?(a=o.split(l),s=r().trim(a[0]),i=o.split(":").slice(-1).join("")):(i=(a=o.split(/\s+?/))[0],s=r().trim(o.replace(i,""))||""),t.delegate(s,i,{el:t,selector:s},(function(t){r().isFunction(n)?n.call(this,t):r().isFunction(e[n])&&(t.el=r()(this),e[n].call(e,t))}))})),this},init:function(){}};const s=new function e(t){var o=function(){r().isFunction(this.render)&&this.render()},n=function(){};n.prototype=Object.create(i);var a=new n;return a.constructor=o,a.superclass=this,r().extend(o.prototype,a,t||{}),o.inherit=e,o}},2516:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var n=o(7113),a=o.n(n),r=o(1170),i=o(5006),s=o(9507);const l=function(e){var t=a()(e.currentTarget);if(0==g_data.login.statusCode&&!t.hasClass("_loading")){var o=new i.Z(t),n=!!t.hasClass("_inLib"),l=n?"/go/pcm/library/deleteLibraryItemsAjax":"/go/pcm/library/addLibraryItemsAjax",d={bookIds:"".concat(t.data("bookid")),novelType:t.data("ntype")};if(n){var c={bookId:"".concat(t.data("bookid")),novelType:t.data("ntype")},f=[];f.push(c),d={bookItems:JSON.stringify(f)}}a().ajax({type:"POST",url:l,data:d,success:function(e){if(o.unLoading(),0===e.code)if(n){var a=100==t.data("ntype")?"qi_CC04":"qi_C02",i=100==t.data("ntype")?"qi_CC04":"qi_C03";t.removeClass("_inLib").attr("data-report-eid",a)}else{t.addClass("_inLib").attr("data-report-eid",i);try{(0,s.Fj)((function(){fbq("track","AddToWishlist",{value:0,currency:"USD",content_ids:[t.data("bookid")],content_type:"product"})})),(0,s.hL)((function(){ga("send",{hitType:"event",eventCategory:"Click Add to Library Button",eventAction:"Click",eventLabel:"Click Add to Library Button"})}))}catch(e){}}else(new r.Z).error(e.msg)}})}}},6798:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(7113),a=o.n(n),r=o(9209),i=o.n(r),s=o(1170),l=o(5006),d=o(8920),c=o(5362),f={btClass:".j_vote_power",$powerRankWrap:a()(".j_power_rank_wrap"),btnScopeClass:".power-bt-scope",bookId:null,novelType:-1,postPowerVoteSucc:null,postPowerVoteError:null,getRankInfoSucc:null};function u(e){a().extend(!0,this,f,e)}u.prototype.setParam=function(e){a().extend(!0,this,e)},u.prototype.getRankInfo=function(){var e=this;a().ajax({type:"GET",url:"/go/pcm/powerStone/getRankInfoAjax",data:{bookId:e.bookId,bookType:e.bookType||1,novelType:e.novelType>=0?e.novelType:0},success:function(t){0===t.code&&("function"==typeof e.getRankInfoSucc?e.getRankInfoSucc(t):t.data&&e.$powerRankWrap.html(i().render(c.Z,{powerRankInfo:t.data,staticConf:{domainPrefix:g_data.env,staticPath:g_data.staticPath},data:{user:g_data.login.user},bookId:e.bookId,bookName:e.bookName})))}})},u.prototype.updateUserPS=function(e){a()(".j_ps_num").html(e),g_data.login.user.PS=e},u.prototype.updateVoteBtn=function(e){var t=this.$powerRankWrap.find(this.btClass),o=e>1?"stones left":"stone left";t.find(".j_ps_num").html(e+" "+o),0==e&&t.attr("disabled",!0)},u.prototype.success=function(e,t){e.addClass("_success"),setTimeout((function(){e.removeClass("_success"),"function"==typeof t&&t()}),1e3)},u.prototype.btnErrorTip=function(e){if(e){var t=this.$powerRankWrap.find(this.btnScopeClass).addClass("_error");this.get$Tip().html(e),setTimeout((function(){t.removeClass("_error")}),2500)}},u.prototype.get$Tip=function(){return this.$powerRankWrap.find(this.btnScopeClass).find("._post_tip")},u.prototype.updateBookTotalPower=function(e){var t=e||this.$powerRankWrap.find(".j_total_power"),o=parseInt(t.data("total"));t.html((o+1).toLocaleString()),t.data("total",o+1)},u.prototype.postPowerVote=function(e){var t=this,o=a()(e.currentTarget),n=(a()(".j_power_btn_area"),o.data("noveltype")||0);if(!o.hasClass("_loading")){var r=new l.Z(o);a().ajax({type:"POST",url:"/go/pcm/powerStone/vote",data:{bookId:t.bookId||o.data("bookid"),novelType:t.novelType>=0?t.novelType:n},success:function(e){0===e.code?"function"==typeof t.postPowerVoteSucc?t.postPowerVoteSucc(e,o):t.postVoteSuccDefault(e,o):"function"==typeof t.postPowerVoteError?t.postPowerVoteError(e):(new s.Z).error(e.msg),r.unLoading()},error:function(){(new s.Z).error("Fail"),r.unLoading()}})}},u.prototype.postVoteSuccDefault=function(e,t){var o=this,n=a()(".j_power_btn_area");o.success(t,(function(){var a="Success";e.data&&e.data.awards&&(a=""!==(a=d.Z.getawards(e.data.awards))?"Voted. "+a:"Success"),(new s.Z).success(a);var r=g_data.login.user.PS-1;o.updateBookTotalPower(),o.updateUserPS(r),o.updateVoteBtn(r),n.html(i().render("#powerVoteBtn",{bookId:o.bookId||t.data("bookid"),bookName:o.bookName||t.data("bookName"),data:{user:g_data.login.user}}))}))};const p=u},3350:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(6156),a=o(9981);function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var s=function(e){for(var t=e?e.split("&"):[],o={},n=0;n<t.length;n++){var a=t[n].substring(0,t[n].indexOf("="));if(-1!=a.indexOf("utm")){var r=t[n].substring(t[n].indexOf("=")+1);o[a]=r}}return o}(o.n(a)().get("QDReport_utm")),l={appid:900,areaid:1,source:"enweb",cname:"Hwpclog",chargeAppid:900,chargeAreaid:1,app:"self"};(/Tencent AppMarket/i.test(window.navigator.userAgent)||-1!==window.location.href.indexOf("gameloopweb")||"gameloopweb"===s.utm_source)&&(l=i(i({},l),{},{areaid:11,source:"gameloopweb",utm_source:"gameloopweb",app:"gameloop"}));const d=l},1180:e=>{e.exports=function(e){if(null==e)return"";var t=(e+="").length%3,o="";t>0&&(o=e.substring(0,t));for(var n=t;n<e.length;n+=3)o=o+","+e.substring(n,n+3);return 0==t&&(o=o.substring(1)),o}},6542:(e,t,o)=>{"use strict";o.r(t);var n=o(7113),a=o.n(n),r=o(9981),i=o.n(r),s=o(3350);!function(){a().ajaxSetup({data:{_csrfToken:i().get("_csrfToken")||""},dataType:"json",dataFilter:function(e){return e},complete:function(e){var t="dev"==g_data.env||"oa"==g_data.env?"oa":"";401==e.status&&(location.href="https://"+t+"passport.webnovel.com/login.html?appid="+s.Z.appid+"&areaid="+s.Z.areaid+"&source=enweb&format=redirect&returnurl="+encodeURIComponent(location.href))}});var e=window.Raven;void 0!==e&&e&&a()(document).on("ajaxError",(function(t,o,n,a){e.captureMessage(a||o.statusText,{extra:{type:n.type,url:n.url,data:n.data,status:o.status,error:a||o.statusText,response:o.responseText.substring(0,100)}})}))}()},8920:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var n=o(7113),a=o.n(n),r=o(1180),i=o.n(r),s={awardsUpdateMap:{1:function(e){s.updateCoins(e)},2:function(e){s.updatePS(e)},3:function(){},4:function(){},5:function(e){s.updateFP(e)}},awardsConf:{1:"Coins",2:"PS",3:"EXP",4:"Day Membership",5:"Fast Pass (All-works FP)",6:"Points"},getawards:function(e){for(var t=s.awardsConf,o=[],n=0;n<e.length;n++){var a=e[n],r=a.AwardType||a.awardType,i=a.Amount||a.amount;o.push(i+"  "+t[r]),s.awardsUpdateMap[r]&&s.awardsUpdateMap[r](i)}return o},updatePS:function(e){if(e){var t=a()(".j_ps_num");if(!t.data("ps"))return;var o=parseInt(g_data.login.user.PS)+e;t.html(i()(o)),t.data("ps",o),g_data.login.user.PS=o}},updateFP:function(e){if(e){var t=a()(".j_fp_stone");if(!t.data("fp"))return;var o=parseInt(g_data.login.user.fastPass)+e;t.html(i()(o)),t.data("ss",o),g_data.login.user.fastPass=o}},updateCoins:function(e){if(e){var t=a()(".j_ss_stone");if(!t.data("ss"))return;var o=parseInt(g_data.login.user.SS)+e;t.html(i()(o)),t.data("ss",o),g_data.login.user.SS=o}},updateES:function(e){if(e){var t=a()(".j_es_num");if(!t.data("es"))return;var o=parseInt(g_data.login.user.ES)+e;t.html(i()(o)),t.data("es",o),g_data.login.user.ES=o}}};const l=s},913:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var n=o(7113),a=o.n(n),r=o(9981),i=o.n(r);const s=function(){i().get("checkInTip")||(a()(".g_user").addClass("_check_in"),a()("body").on("mouseenter",".g_user._check_in",(function(){a()(this).removeClass("_check_in");var e=(new Date).setHours(24,0,0,0)-+new Date;i().set("checkInTip",1,".webnovel.com","/",e)})))}},9222:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>r});var n=o(7113),a=o.n(n);const r=function(){a().ajax({type:"GET",url:"/go/pcm/notification/status",success:function(e){if(0===e.code){e.data=e.data||{};var t=+e.data.messageStatus||0,o=+e.data.followingStatus||0,n=+e.data.systemNotificationStatus||0,r=+e.data.notificationStatus||0,i=t+n+r+o;if(i>0){var s="/events";n+r>0&&(s="/notifications"),o>0&&(s="/message"),t>0&&(s="/events"),g_data.login.message={num:i,url:s},a()(".j_header_user").addClass("_up")}}}})}},5912:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=function(e){for(var t=e?e.split("&"):null,o={},n=0;n<t.length;n++){var a=t[n].substring(0,t[n].indexOf("="));if(-1!=a.indexOf("utm")){var r=t[n].substring(t[n].indexOf("=")+1);o[a]=r}}return o}},2988:()=>{!function(e,t,o,n){var a=e(t);e.fn.lazyload=function(r){var i,s=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,handleError:!1,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function d(){var t=0;s.each((function(){var o=e(this);if(!l.skip_invisible||o.is(":visible"))if(e.abovethetop(this,l)||e.leftofbegin(this,l));else if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else o.trigger("appear"),t=0}))}return r&&(n!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),n!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),e.extend(l,r)),i=l.container===n||l.container===t?a:e(l.container),0===l.event.indexOf("scroll")&&i.bind(l.event,(function(){return d()})),this.each((function(){var t=this,o=e(t);t.loaded=!1,o.attr("src")!==n&&!1!==o.attr("src")||o.is("img")&&o.attr("src",l.placeholder),o.one("appear",(function(){if(!this.loaded){if(l.appear){var n=s.length;l.appear.call(t,n,l)}e("<img/>").bind("load",(function(){var n=o.attr("data-"+l.data_attribute);o.hide(),o.is("img")?o.attr("src",n):o.css("background-image","url('"+n+"')"),o[l.effect](l.effect_speed),t.loaded=!0;var a=e.grep(s,(function(e){return!e.loaded}));if(s=e(a),l.load){var r=s.length;l.load.call(t,r,l)}})).attr("src",o.attr("data-"+l.data_attribute)),l.handleError&&e("<img/>").bind("error",(function(){var e=o.attr("data-"+l.data_attribute);o.is("img")?o.attr("src",e):o.css("background-image","url('"+e+"')")})).attr("src",o.attr("data-"+l.data_attribute))}})),0!==l.event.indexOf("scroll")&&o.bind(l.event,(function(){t.loaded||o.trigger("appear")}))})),a.bind("resize",(function(){d()})),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&a.bind("pageshow",(function(t){t.originalEvent&&t.originalEvent.persisted&&s.each((function(){e(this).trigger("appear")}))})),e(o).ready((function(){d()})),this},e.belowthefold=function(o,r){return(r.container===n||r.container===t?(t.innerHeight?t.innerHeight:a.height())+a.scrollTop():e(r.container).offset().top+e(r.container).height())<=e(o).offset().top-r.threshold},e.rightoffold=function(o,r){return(r.container===n||r.container===t?a.width()+a.scrollLeft():e(r.container).offset().left+e(r.container).width())<=e(o).offset().left-r.threshold},e.abovethetop=function(o,r){return(r.container===n||r.container===t?a.scrollTop():e(r.container).offset().top)>=e(o).offset().top+r.threshold+e(o).height()},e.leftofbegin=function(o,r){return(r.container===n||r.container===t?a.scrollLeft():e(r.container).offset().left)>=e(o).offset().left+r.threshold+e(o).width()},e.inviewport=function(t,o){return!(e.rightoffold(t,o)||e.leftofbegin(t,o)||e.belowthefold(t,o)||e.abovethetop(t,o))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document)},4340:(e,t,o)=>{"use strict";var n=o(7113),a=o.n(n);a().tools=a().tools||{version:"@VERSION"},a().tools.overlay={addEffect:function(e,t,o){i[e]=[t,o]},conf:{close:null,closeOnClick:!1,closeOnEsc:!0,closeSpeed:"fast",effect:"onOff",closerWrapSel:".g_mod",triggerActive:null,fixed:!0,left:"center",load:!1,mask:null,oneInstance:!1,speed:"normal",target:null,top:"10%"}};var r=[],i={};a().tools.overlay.addEffect("default",(function(e,t){var o=this.getConf(),n=a()(window);o.fixed||(e.top+=n.scrollTop(),e.left+=n.scrollLeft()),e.position=o.fixed?"fixed":"absolute",this.getOverlay().css(e).fadeIn(o.speed,t)}),(function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,e)}));var s=function(){function e(){this.$html=a()("html"),this.$body=a()("body"),this.modalOn="_modal_on",this.$doc=a()(document),this.modalNum=0,this.is2modal=!1}return e.prototype.dealScroll=function(e){var t=this,o=document.documentElement;if("show"===e){if(0===t.modalNum){var n=window.innerWidth-o.clientWidth;a()(o).css({overflow:"hidden","border-right":n+"px solid transparent"})}t.modalNum++}else"hide"===e&&(1===t.modalNum&&a()(o).css({overflow:"","border-right":""}),t.modalNum--)},e.prototype.on=function(){var e=this;if(0===e.modalNum){var t=e.modalOnTop=e.$doc.scrollTop();e.$html.css({top:-t}),e.$html.addClass(e.modalOn)}e.modalNum++},e.prototype.off=function(){var e=this;1===e.modalNum&&(e.$html.removeClass(e.modalOn),e.$body.css({top:0}),e.$doc.scrollTop(e.modalOnTop)),e.modalNum--},new e}();function l(e,t){var o,n,s,l=this,d=e.add(l),c=a()(window),f=a().tools.expose&&(t.mask||t.expose),u=Math.random().toString().slice(10);f&&("string"==typeof f&&(f={color:f}),f.closeOnClick=f.closeOnEsc=!1);var p=t.target||e.attr("rel")||e.attr("href");if(!(n=p?a()(p):e).length)throw"Could not find Overlay: "+p;e&&-1==e.index(n)&&e.click((function(e){var o=t.triggerActive;if(o){var n=a()(this);n.hasClass(o)?(l.close(e),n.removeClass(o)):(l.load(e),n.addClass(o))}else l.load(e);return e.preventDefault()})),a().extend(l,{load:function(e){if(l.isOpened())return l;var o=i[t.effect];if(!o)throw'Overlay: cannot find effect : "'+t.effect+'"';if(t.oneInstance&&a().each(r,(function(){this.close(e)})),(e=e||a().Event()).type="onBeforeLoad",d.trigger(e),e.isDefaultPrevented())return l;s=!0,f&&a()(n).expose(f);var p=t.top,g=t.left,h=n.outerWidth({margin:!0}),v=n.outerHeight({margin:!0});return"string"==typeof p&&(p="center"==p?Math.max((c.height()-v)/2,0):parseInt(p,10)/100*c.height()),"center"==g&&(g=Math.max((c.width()-h)/2,0)),o[0].call(l,{top:p,left:g},(function(){s&&(e.type="onLoad",d.trigger(e))})),f&&t.closeOnClick&&a().mask.getMask().one("click",l.close),t.closeOnClick&&a()(document).on("click."+u,(function(e){a()(e.target).parents(n).length||l.close(e)})),t.closeOnEsc&&a()(document).on("keydown."+u,(function(e){27==e.keyCode&&l.close(e)})),l},close:function(o){if(!l.isOpened())return l;if((o=o||a().Event()).type="onBeforeClose",d.trigger(o),!o.isDefaultPrevented()){s=!1,i[t.effect][1].call(l,(function(){o.type="onClose",d.trigger(o)})),a()(document).off("click."+u+" keydown."+u);var n=t.triggerActive;return n&&e.hasClass(n)&&e.removeClass(n),f&&a().mask.close(f),l}},getOverlay:function(){return n},getTrigger:function(){return e},getClosers:function(){return o},isOpened:function(){return s},getConf:function(){return t}}),a().each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),(function(e,o){a().isFunction(t[o])&&a()(l).on(o,t[o]),l[o]=function(e){return e&&a()(l).on(o,e),l}})),(o=n.find(t.close||"._close")).length||t.close||(o=a()('<a href="###" title="Close" class="_close"><svg><use xlink:href="#i-times"></use></svg></a>'),n.find(t.closerWrapSel).prepend(o)),t.close=t.close||"._close, .j_close",n.on("click",t.close,(function(e){l.close(e)})),t.load&&l.load()}a().tools.overlay.addEffect("onOffNormal",(function(e,t){this.getOverlay().addClass("_on"),t()}),(function(e){this.getOverlay().removeClass("_on"),e()})),a().tools.overlay.addEffect("onOff",(function(e,t){this.getOverlay().addClass("_on"),t(),s.dealScroll("show")}),(function(e){this.getOverlay().removeClass("_on"),e(),s.dealScroll("hide")})),a().fn.overlay=function(e){var t=this.data("overlay");return t||(a().isFunction(e)&&(e={onBeforeLoad:e}),e=a().extend(!0,{},a().tools.overlay.conf,e),this.each((function(){t=new l(a()(this),e),r.push(t),a()(this).data("overlay",t)})),e.api?t:this)}},9507:(e,t,o)=>{"use strict";o.d(t,{hL:()=>a,Fj:()=>r,Xl:()=>i});var n,a=(n=20,function(e){"undefined"!=typeof ga?e():n--&&setTimeout((function(){a(e)}),1e3)}),r=function(){var e=20;return function(t){"undefined"!=typeof fbq?t():e--&&setTimeout((function(){r(t)}),1e3)}}(),i=function(){var e=20;return function(t){"undefined"!=typeof gtag?t():e--&&setTimeout((function(){i(t)}),1e3)}}()},5362:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=' <%\n    var srcRank="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEX////1Mmb2MWX2N231MWX1MWX/////wtL8nbf+9vj+vM38mLS/meY4AAAABXRSTlMB5qYc7ekm068AAABrSURBVDjLYyADMCuGYgAhA6CESSgW4AyUUMUmEQSUEMUmEQiUCMUKqC8xLQ0JZCJJpKEAKkoQtBwD0FlieTkUVKFJlMMBbSQwLR8sQbKjAwi6sUh0gAHtJBCW09vnODMnzuyMswDAXWSQDgDUBFQyX50DMwAAAABJRU5ErkJggg==";\n    var srcStone="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAWlBMVEU8ZvX1+P9vj/vC0P8/afVoi/o/aPU+a/pFbv9LeP9Gb/Y8ZvU8Z/U8aPddgvg7ZvVRePe5yv+uwf+Kpv2asv59mvxYfPh3lflaffZMc/mkuP5nifmXrftfg/fPnuCZAAAAHnRSTlPmAebm5uZkQSUR5tbChOal5ubm5ubm5t2viubLy8rr6OWiAAABEElEQVRIx+2Wy7KCMBBE+5LwVCPi4/r8/99UI+U4aRxw4c7ewilOV5GZ4G841XlfDT4YBuqFd259qKcCxQxwzq3+i0lAOQcAd093KkeBaokY98gmrQKShwKoCkheA1QFJK8BqgIlzwBVgZJngKqA5GOasF4lRF8FIi/xu+yWjUvSXcoeSGzaPIvZHpNvBN8D2ia+3iPda4sGYMCHTOVZpQuAANpGIlW2HgpgG+V1bIEhIHsX4DMAP+AHfAuwf++8IcA6QHkLyYQjGjwMQLzERscaM2Ij8eYg23kkmZfGqAypDWaFOYzJZlHzuDeyrMyFwvL2ymJ5eymyvL12SX58sZP8+NWB5McvJ1qeAa4S5TlXHPcQ906aF1YAAAAASUVORK5CYII=";\n %> <div class="power-bar-wrap j_power_rank_wrap" data-report-l1="13"> <div class="clearfix mb16"> <h3 class="g_h2 fs24 lh32 fw700 pl1 ell fl">Weekly Power Status</h3> <div class="fr pt8"> <a href="/ranking/powervote/<%= bookId %>" class="lh16 fs16" title="See Who Voted" data-report-eid="qi_C23" data-report-bid="<%= bookId %>">See Who Voted</a> </div> </div> <% if(typeof powerRankInfo != \'undefined\' && powerRankInfo){ %> <div class="power-bar clearfix pl24 pt24 pr24 pb24 mb8" data-report-l1="4"> <div class="fl fs0 mr24 pt8 pb8 power-rank"> <img cross-origin="anonymous" width="24" height="24" class="div vam mr12 w24 h24" src="<%= srcRank %>" alt="Rank"> <strong class="dib vam fs32 fw700 mr8 lh32"> <% if(powerRankInfo.rank != undefined && powerRankInfo.rank > 0){ %> <%= powerRankInfo.rank < 200 ? \'NO.\' + powerRankInfo.rank : \'200+\'; %> <% }else{ %> N/A <% } %> </strong> <small class="dib vam fs12 lh16 c_s"> <span class="db">Power</span> Ranking </small> </div> <div class="fl fs0 mr24 pt8 pb8"> <img cross-origin="anonymous" width="24" height="24" class="div vam mr12 w24 h24" src="<%= srcStone %>" alt="Stone"> <strong class="dib vam fs32 fw700 mr8 lh32 j_total_power" data-total="<%= powerRankInfo.powerNums || 0; %>"> <%= typeof powerRankInfo.powerNums != \'undefined\' && powerRankInfo.powerNums != null ? (powerRankInfo.powerNums).toLocaleString() : \'--\'; %> </strong> <small class="dib vam fs12 lh16 c_s"> <span class="db">Power</span> Stone </small> </div> <div class="fr fs0 bt_box j_power_btn_area"> <% var showLoginBtn = \'\'; %> <% var showVoteBtn = \'\'; %> <% var showDisVoteBtn = \'\'; %> <% var eid = \'\'; %> <% if(typeof data != \'undefined\' && data.user && data.user.status == 0){ %> <% if(data.user && data.user.PS == 0){ %> <% showDisVoteBtn = \'_on\'; %> <% eid = \'qi_J25\'; %> <% }else{ %> <% showVoteBtn = \'_on\'; %> <% showDisVoteBtn = \'\'; %> <% eid = \'qi_C10\'; %> <% } %> <% }else{ %> <% eid = \'qi_C10\'; %> <% showLoginBtn = \'_on\'; %> <% } %>  <% if(typeof isRankVote !== \'undefined\' && isRankVote){ %> <a href="###" title="Vote Power Stone" class="bt _warning _vote j_vote_power <%= showVoteBtn; %>" data-bookid="<%= bookId; %>" data-bookname="<%= bookName; %>" <%= typeof novelType !== \'undefined\' ? \'data-novelType=\' + novelType : \'\'; %> data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>"> <strong>Vote Power Stone (<small class="j_ps_num"><%= data.user.PS; %></small>)</strong> </a> <% }else{ %> <a href="###" title="Vote Power Stone" class="bt _warning _2row _vote j_vote_power <%= showVoteBtn; %>" data-bookid="<%= bookId; %>" data-bookname="<%= bookName; %>" <%= typeof novelType !== \'undefined\' ? \'data-novelType=\' + novelType : \'\'; %> data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>"> <strong>Vote</strong> <small class="j_ps_num">(<%= data.user.PS; %> stone <% if(data.user.PS > 1){ %>s <% } %> left)</small> </a> <% } %>  <% if(typeof isRankVote !== \'undefined\' && isRankVote){ %> <a href="###" title="Vote Power Stone" class="bt _warning _2row _dis_vote <%= showDisVoteBtn; %>" disabled="disabled" data-bookid="<%= bookId; %>" data-bookname="<%= bookName; %>" <%= typeof novelType !== \'undefined\' ? \'data-novelType=\' + novelType : \'\'; %> data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>"> <strong>Vote Power Stone (0)</strong> </a> <% }else{ %> <a href="###" title="Vote Power Stone" class="bt _warning _2row _dis_vote <%= showDisVoteBtn; %>" disabled="disabled" data-bookid="<%= bookId; %>" data-bookname="<%= bookName; %>" <%= typeof novelType !== \'undefined\' ? \'data-novelType=\' + novelType : \'\'; %> data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>"> <strong>Vote</strong> <small class="j_ps_num">(0 stone left)</small> </a> <% } %> <a href="###" title="Vote Power Stone" class="bt _login _warning j_login <%= showLoginBtn; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>" data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>"> <strong> Vote </strong> </a> </div> </div> <% if(powerRankInfo.rank < 0){ %> <p class="fs14 lh24 c_s">>15,000 words needed for ranking.</p> <% } %> <% }else{ %> <div class="power-bar clearfix pl24 pt24 pr24 pb24 mb8" data-report-l1="4"> <div class="fl fs0 mr24 pt8 pb8 power-rank"> <img cross-origin="anonymous" width="24" height="24" class="div vam mr12 w24 h24" src="<%= srcRank %>" alt="Rank"> <strong class="dib vam fs32 fw700 mr8 lh32">--</strong> <small class="dib vam fs12 lh16 c_s"> <span class="db">Power</span> Ranking </small> </div> <div class="fl fs0 mr24 pt8 pb8"> <img cross-origin="anonymous" width="24" height="24" class="div vam mr12 w24 h24" src="<%= srcStone %>" alt="Stone"> <strong class="dib vam fs32 fw700 mr8 lh32">--</strong> <small class="dib vam fs12 lh16 c_s"> <span class="db">Power</span> Stone </small> </div> <div class="fr fs0 bt_box"> <a href="#powerVoteModal" class="bt _warning" title="Vote"> <strong>Vote</strong> </a> </div> </div> <% } %> </div> '},5006:(e,t,o)=>{"use strict";function n(e){this.$bt=e,this.loading()}o.d(t,{Z:()=>a}),o(7113),n.prototype.loading=function(){var e=this;this.$bt.addClass("_loading"),this.loadingTimer=setTimeout((function(){e.unLoading()}),1e4)},n.prototype.unLoading=function(){this.$bt.removeClass("_loading"),clearTimeout(this.loadingTimer)};const a=n}}]);