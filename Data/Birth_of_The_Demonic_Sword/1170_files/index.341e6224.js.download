(()=>{var t,e,a,o,n,r={4102:(t,e,a)=>{"use strict";a.d(e,{Z:()=>m});var o=a(6156),n=a(1253),r=a(3663),i=a(7619),s=a(8083);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,o.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d=a(7113),p=a.n(d);function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){(0,o.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={successTitle:null,title:null,content:null,bt:{text:"OK"},onClass:"_on",className:"",hideTime:300,onClose:function(){}};function f(t){p().extend(this,u,t,!0),this.$body=p()("body"),this.init()}f.prototype.creatDom=function(){var t,e,a=this,o={},c={};if(null!==(t=a.btGhost)&&void 0!==t&&t.text){var d=a.btGhost,h=d.text,u=d.url;d.callback,o=g({children:h,href:u},(0,n.Z)(d,["text","url","callback"]))}if(null!==(e=a.bt)&&void 0!==e&&e.text){var f=a.bt,m=f.text,v=f.url;f.callback,c=g({children:m,href:v},(0,n.Z)(f,["text","url","callback"]))}var b=(0,r.ZP)(function(t){var e=t.className,a=void 0===e?"":e,o=t.title,n=void 0===o?"":o,r=t.content,c=void 0===r?"":r,d=t.successTitle,p=void 0===d?"":d,h=t.btGhostProps,g=void 0===h?{}:h,u=t.btProps,f=void 0===u?{}:u,m=g.children&&f.children?"":"_block";return(0,s.tZ)(i.nP,{className:a,children:(0,s.BX)(i.Es,{className:"_small g_mod_confirm",children:[(0,s.tZ)(i.A3,{}),p?(0,s.BX)("div",{className:"g_confirm_hd _success",children:[(0,s.tZ)("svg",{className:"i_success",dangerouslySetInnerHTML:{__html:'<use xlink:href="#i-right"></use>'}}),p]}):null,!p&&n?(0,s.tZ)("div",{className:"g_confirm_hd",dangerouslySetInnerHTML:{__html:n}}):null,c&&Array.isArray(c)?(0,s.tZ)(i.fe,{children:c.map((function(t){return(0,s.tZ)("p",{dangerouslySetInnerHTML:{__html:t}})}))}):null,c&&!Array.isArray(c)?(0,s.tZ)(i.fe,{dangerouslySetInnerHTML:{__html:c}}):null,(0,s.BX)("div",{className:"g_mod_ft",children:[g.children?(0,s.tZ)("a",l(l({},g),{},{href:g.href||"###",title:g.children,rel:"_blank"===g.target&&"noopener noreferrer",className:"bt _ghost j_confirmBtGhost ".concat(m," ").concat(g.className||"")})):null,(0,s.tZ)("a",l(l({},f),{},{title:f.children,href:f.href||"###",rel:"_blank"===f.target&&"noopener noreferrer",className:"bt j_confirmBtDefault ".concat(m," ").concat(f.className||"")}))]})]})})}({className:a.className,successTitle:a.successTitle,title:a.title,content:a.content,btGhostProps:o,btProps:c})),_=this.$it=p()(b);return this.$body.append(_),_},f.prototype.show=function(){var t=this;setTimeout((function(){t.$it.addClass(t.onClass)}),17)},f.prototype.hide=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this,a=e.$it;a.removeClass(e.onClass),e.onClose(t),setTimeout((function(){a.remove()}),e.hideTime)},f.prototype.init=function(){var t=this,e=t.creatDom();t.show(),e.on("click",".j_close",(function(e){e.preventDefault(),t.hide()})),t.btGhost&&e.on("click",".j_confirmBtGhost",(function(e){t.btGhost.url||e.preventDefault(),t.hide(),"function"==typeof t.btGhost.callback&&t.btGhost.callback(this,t)})),t.bt&&e.on("click",".j_confirmBtDefault",(function(e){t.bt.url||e.preventDefault(),"function"==typeof t.bt.callback?!1!==t.bt.callback(this,t)&&t.hide(!0):t.hide(!0)}))};const m=f},7657:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});var o=a(7113),n=a.n(o);function r(){}r.prototype.getDataAndSetData=function(t,e){var a=this;n().ajax({method:"GET",url:"/go/pcm/emoji/getEmoji",success:function(e){e&&0===e.code&&e.data&&(a.data=e.data,window.g_data&&(window.g_data.dataEmoji=a.data),"function"==typeof t&&t(a.data))},error:function(){"function"==typeof e&&e()}})},r.prototype.getAllEmoji=function(){var t=window.g_data&&window.g_data.dataEmoji;if(!t)return[];var e=[];return n().each(t,(function(t,a){var o='<img cross-origin="anonymous" class="m-emoji" src="'+a+'" width="12" height="12" alt="'+t+'">';e.push(o)})),e},r.prototype.format=function(t){var e=window.g_data&&window.g_data.dataEmoji;return e?t.replace(/\[[^\[\]]+\]/g,(function(t){var a=e[t];return a?'<img cross-origin="anonymous" class="m-emoji" src="'+a+'" width="12" height="12" alt="'+t+'">':t})):t};const i=r},8833:(t,e,a)=>{"use strict";a.d(e,{Z:()=>c});var o=a(6336),n=a(7113),r=a.n(n),i={$wrapper:r()("body"),$scroller:r()(window),supportScrollPrev:!1,mustDoneOnScroll:null,onChapterScroll:null,onLoadingNext:null,onLoadingPrev:null,isLoading:!1,jumpToChapter:null,ratio:.5,listSize:30,listUnit:"li"};function s(t){r().extend(!0,this,i,t),this.init()}s.prototype.init=function(){var t=this,e=this.$scroller,a=this.$wrapper.height(),n=0,r=0,i=0;"function"==typeof t.onLoadingPrev&&e.on("mousewheel",(0,o.Z)((function(a){void 0!==a&&((n=a.originalEvent&&a.originalEvent.wheelDelta&&(a.originalEvent.wheelDelta>0?1:-1)||a.originalEvent&&a.originalEvent.detail&&(a.originalEvent.detail>0?-1:1))>0&&0==e.scrollTop()&&1!=+g_data.firstChap.idx&&(a.preventDefault(),"function"==typeof t.onLoadingPrev&&t.onLoadingPrev()),n>0?"function"==typeof t.onChapterScroll&&t.onChapterScroll("bottomToTop"):"function"==typeof t.onChapterScroll&&t.onChapterScroll("topToBottom"))}),100,160)),e.on("scroll",(0,o.Z)((function(){if("function"==typeof t.mustDoneOnScroll)try{t.mustDoneOnScroll()}catch(t){console.log("mustDoneOnScroll",t)}"function"==typeof t.onChapterScroll&&t.onChapterScroll();var o=e.scrollTop();i=o,t.$wrapper.get(0).scrollHeight-o-a<t.ratio*a&&"function"==typeof t.onLoadingNext&&t.onLoadingNext(),i<r&&o<t.ratio*a&&"function"==typeof t.onLoadingPrev&&t.onLoadingPrev(),r=i}),100,160))};const c=s},955:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n}),a(1964),$.fn.drop=function(t,e){return $(this).each((function(){$(this).data("drop")||$(this).data("drop",new o($(this),t,e))}))};var o=function(t,e,a){var o={eventType:"null",selector:"",offsets:{x:0,y:0},edgeAdjust:!0,position:"7-5",onShow:$.noop,onHide:$.noop},n=$.extend({},o,a||{}),r=e.attr("id");r||(r=("id_"+Math.random()).replace("0.",""),e.attr("id",r)),""==n.selector&&t.attr({"data-target":r,"aria-expanded":"false"}),this.el={trigger:t,target:e},this.offsets=n.offsets,this.callback={show:n.onShow,hide:n.onHide},this.position=n.position,this.edgeAdjust=n.edgeAdjust,this.display=!1;var i=this;switch(n.eventType){case"null":this.show();break;case"hover":var s,c;t.delegate(n.selector,"mouseenter",(function(){n.selector&&(i.el.trigger=$(this).attr({"data-target":r,"aria-expanded":"false"})),s=setTimeout((function(){i.show()}),150),clearTimeout(c)})),t.delegate(n.selector,"mouseleave",(function(){clearTimeout(s),c=setTimeout((function(){i.hide()}),200)})),e.data("dropHover")||(e.hover((function(){clearTimeout(c)}),(function(){c=setTimeout((function(){i.hide()}),100)})),e.data("dropHover",!0)),t.delegate(n.selector,"click",(function(t){window.isKeyEvent&&(n.selector&&(i.el.trigger=$(this).attr({"data-target":r,"aria-expanded":"false"})),0==i.display?i.show():i.hide(),t.preventDefault())}));break;case"click":case"contextmenu":t.delegate(n.selector,n.eventType,(function(t){if(t.preventDefault(),n.selector&&(i.el.trigger=$(this).attr({"data-target":r,"aria-expanded":"false"})),"contextmenu"==n.eventType)return i.position=[t.pageX,t.pageY],void i.show();0==i.display?i.show():i.hide()}))}return $(document).click((function(t){var e=t&&t.target;if(e&&i&&1==i.display){var a=i.el.trigger.get(0),o=i.el.target.get(0);a&&o&&e!=a&&e!=o&&0==a.contains(e)&&0==o.contains(e)&&i.hide()}})),$(window).resize((function(){i.follow()})),i};o.prototype.follow=function(){var t=this.el.target,e=this.el.trigger;return 1==this.display&&"none"!=e.css("display")&&t.follow(e,{offsets:this.offsets,position:this.position,edgeAdjust:this.edgeAdjust}),this},o.prototype.show=function(){var t=this.el.target,e=this.el.trigger;return t&&0==$.contains(document.body,t.get(0))&&$("body").append(t),this.display=!0,t.css({position:"absolute",display:"inline"}).addClass("ESC"),e.attr({"aria-expanded":"true"}),this.follow(),$.isFunction(this.callback.show)&&this.callback.show.call(this,e,t),this},o.prototype.hide=function(){var t=this.el.target,e=this.el.trigger;return t.hide().removeClass("ESC"),e.attr({"aria-expanded":"false"}),window.isKeyEvent&&e.focus(),this.display=!1,$.isFunction(this.callback.hide)&&this.callback.hide.call(this,e,t),this};const n=o},1964:()=>{"use strict";$.fn.follow=function(t,e){var a={offsets:{x:0,y:0},position:"4-1",edgeAdjust:!0},o=$.extend({},a,e||{});return $(this).each((function(){var e=$(this);if(0!=t.length){var n,r,i,s,c,l,d,p=e.data("height"),h=e.data("width"),g=$(window).scrollTop(),u=$(window).scrollLeft(),f=parseInt(o.offsets.x,10)||0,m=parseInt(o.offsets.y,10)||0;this.cacheData,p||(p=e.outerHeight()),h||(h=e.outerWidth()),n=t.offset(),r=t.outerHeight(),i=t.outerWidth(),s=n.left,c=n.top;var v,b=o.position,_=!1;$.each(["4-1","1-4","5-7","2-3","2-1","6-8","3-4","4-3","8-6","1-2","7-5","3-2"],(function(t,e){e===b&&(_=!0)})),_||(b=a.position);var C=function(t){var e="bottom";switch(t){case"1-4":case"5-7":case"2-3":e="top";break;case"2-1":case"6-8":case"3-4":e="right";break;case"1-2":case"8-6":case"4-3":e="left";break;case"4-1":case"7-5":case"3-2":e="bottom"}return e},I=function(t){return"5-7"===t||"6-8"===t||"8-6"===t||"7-5"===t},y=function(t){if("right"===t){if(s+i+h+f>$(window).width())return!1}else if("bottom"===t){if(c+r+p+m>g+$(window).height())return!1}else if("top"===t){if(p+m>c-g)return!1}else if("left"===t&&h+f>s)return!1;return!0};v=C(b),o.edgeAdjust&&(y(v)?function(){if(!I(b)){var t,e={top:{right:"2-3",left:"1-4"},right:{top:"2-1",bottom:"3-4"},bottom:{right:"3-2",left:"4-1"},left:{top:"1-2",bottom:"4-3"}}[v];if(e)for(t in e)y(t)||(b=e[t])}}():function(){if(I(b))b={"5-7":"7-5","7-5":"5-7","6-8":"8-6","8-6":"6-8"}[b];else{var t={top:{left:"3-2",right:"4-1"},right:{bottom:"1-2",top:"4-3"},bottom:{left:"2-3",right:"1-4"},left:{bottom:"2-1",top:"3-4"}}[v],e=[];for(name in t)e.push(name);b=y(e[0])||!y(e[1])?t[e[0]]:t[e[1]]}}());var w=C(b),k=b.split("-")[0];switch(w){case"top":d=c-p,l="1"==k?s:"5"===k?s-(h-i)/2:s-(h-i);break;case"right":l=s+i,d="2"==k?c:"6"===k?c-(p-r)/2:c-(p-r);break;case"bottom":d=c+r,l="4"==k?s:"7"===k?s-(h-i)/2:s-(h-i);break;case"left":l=s-h,d="2"==k?c:"6"===k?c-(h-i)/2:c-(p-r)}if(o.edgeAdjust&&I(b)){var P=$(window).width(),A=$(window).height();"7-5"==b||"5-7"==b?l-u<.5*P?l-u<0&&(l=u):l-u+h>P&&(l=P+u-h):d-g<.5*A?d-g<0&&(d=g):d-g+p>A&&(d=A+g-p)}"top"==w||"left"==w?(l-=f,d-=m):(l+=f,d+=m),e.css({position:"absolute",left:Math.round(l),top:Math.round(d)}).attr("data-align",b);var S=1*e.css("zIndex")||19,x=S;$("body").children().each((function(){var t,a=$(this);this!==e[0]&&"none"!==a.css("display")&&(t=1*a.css("zIndex"))&&(x=Math.max(t,x))})),S<x&&e.css("zIndex",x+1)}}))}},1880:(t,e,a)=>{var o=a(6401);t.exports=function(t){return{0:o.NOVEL,100:o.COMIC,200:o.PBOOK,1:o.FANFIC}[t]||o.NOVEL}},6401:t=>{t.exports={NOVEL:1,COMIC:2,PBOOK:3,FANFIC:4,ALL:0}},7408:t=>{t.exports=function(t){if(void 0!==t&&null!=t)return(t=(t+="").replace(/\</g,"&lt;")).replace(/\>/g,"&gt;")}},6737:(t,e,a)=>{var o=a(6401),n=a(4879),r=(n.getCategoryURLByData,n.getCategoryURLById);t.exports=function(t,e,a,n){var i="###",s=e.categoryId,c=e.orderBy,l=e.bookType,d=e.gender,p=e.pageIndex,h=e.bookStatus,g=[];return a=a||o.NOVEL,void 0===s&&(s="0"),s||(s="0"),void 0===p&&(p="1"),p||(p="1"),i=r(s,p),n||(+a===o.NOVEL&&null!=d&&g.push("gender="+d),null!=c&&g.push("orderBy="+c),null!=l&&g.push("bookType="+l),null!=h&&g.push("bookStatus="+h),i+=g.join("&")?"".concat(-1!==i.indexOf("?")?"&":"?")+g.join("&"):""),i}},6258:(t,e,a)=>{var o=a(2165),n=a(1558);t.exports=function(t,e,a,r,i){return n(t,e,a,r,i,o.COMIC)}},6605:t=>{t.exports=function(){return'<span class="_tag_sub">Comics</span>'}},1940:(t,e,a)=>{var o=a(5389);t.exports=function(t,e,a){var n=e&&(e.bookId||e.comicId),r=e&&(e.bookName||e.comicName);return o(t,n,r,a)}},4879:t=>{var e=function(t,e,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n={novel:{all:"/stories/novel",male:{all:"/stories/novel?gender=1".concat(o>1?"&pageIndex=".concat(o):""),urban:"/stories/novel-urban-male".concat(o>1?"?pageIndex=".concat(o):""),eastern:"/stories/novel-eastern-male".concat(o>1?"?pageIndex=".concat(o):""),games:"/stories/novel-games-male".concat(o>1?"?pageIndex=".concat(o):""),fantasy:"/stories/novel-fantasy-male".concat(o>1?"?pageIndex=".concat(o):""),"sci-fi":"/stories/novel-scifi-male".concat(o>1?"?pageIndex=".concat(o):""),horror:"/stories/novel-horror-male".concat(o>1?"?pageIndex=".concat(o):""),sports:"/stories/novel-sports-male".concat(o>1?"?pageIndex=".concat(o):""),action:"/stories/novel-action-male".concat(o>1?"?pageIndex=".concat(o):""),war:"/stories/novel-war-male".concat(o>1?"?pageIndex=".concat(o):""),realistic:"/stories/novel-realistic-male".concat(o>1?"?pageIndex=".concat(o):""),history:"/stories/novel-history-male".concat(o>1?"?pageIndex=".concat(o):""),acg:"/stories/novel-acg-male".concat(o>1?"?pageIndex=".concat(o):"")},female:{all:"/stories/novel?gender=2".concat(o>1?"&pageIndex=".concat(o):""),urban:"/stories/novel-urban-female".concat(o>1?"?pageIndex=".concat(o):""),fantasy:"/stories/novel-fantasy-female".concat(o>1?"?pageIndex=".concat(o):""),history:"/stories/novel-history-female".concat(o>1?"?pageIndex=".concat(o):""),teen:"/stories/novel-teen-female".concat(o>1?"?pageIndex=".concat(o):""),lgbt:"/stories/novel-lgbt-female".concat(o>1?"?pageIndex=".concat(o):""),"sci-fi":"/stories/novel-scifi-female".concat(o>1?"?pageIndex=".concat(o):""),general:"/stories/novel-general-female".concat(o>1?"?pageIndex=".concat(o):"")}},comic:{all:"/stories/comic".concat(o>1?"?pageIndex=".concat(o):""),romance:"/stories/comic-romance".concat(o>1?"?pageIndex=".concat(o):""),action:"/stories/comic-action".concat(o>1?"?pageIndex=".concat(o):""),lgbt:"/stories/comic-lgbt".concat(o>1?"?pageIndex=".concat(o):""),fantasy:"/stories/comic-fantasy".concat(o>1?"?pageIndex=".concat(o):""),urban:"/stories/comic-urban".concat(o>1?"?pageIndex=".concat(o):""),harem:"/stories/comic-harem".concat(o>1?"?pageIndex=".concat(o):""),transmigration:"/stories/comic-transmigration".concat(o>1?"?pageIndex=".concat(o):""),magic:"/stories/comic-magic".concat(o>1?"?pageIndex=".concat(o):""),school:"/stories/comic-school".concat(o>1?"?pageIndex=".concat(o):""),eastern:"/stories/comic-eastern".concat(o>1?"?pageIndex=".concat(o):""),adventure:"/stories/comic-adventure".concat(o>1?"?pageIndex=".concat(o):""),"sci-fi":"/stories/comic-scifi".concat(o>1?"?pageIndex=".concat(o):""),history:"/stories/comic-history".concat(o>1?"?pageIndex=".concat(o):""),sports:"/stories/comic-sports".concat(o>1?"?pageIndex=".concat(o):""),horror:"/stories/comic-horror".concat(o>1?"?pageIndex=".concat(o):""),inspiring:"/stories/comic-inspiring".concat(o>1?"?pageIndex=".concat(o):""),wuxia:"/stories/comic-wuxia".concat(o>1?"?pageIndex=".concat(o):""),comedy:"/stories/comic-comedy".concat(o>1?"?pageIndex=".concat(o):""),"slice-of-life":"/stories/comic-slice-of-life".concat(o>1?"?pageIndex=".concat(o):""),drama:"/stories/comic-drama".concat(o>1?"?pageIndex=".concat(o):""),cooking:"/stories/comic-cooking".concat(o>1?"?pageIndex=".concat(o):""),mystery:"/stories/comic-mystery".concat(o>1?"?pageIndex=".concat(o):""),diabolical:"/stories/comic-diabolical".concat(o>1?"?pageIndex=".concat(o):"")},fanfic:{all:"/stories/fanfic".concat(o>1?"?pageIndex=".concat(o):""),"anime & comics":"/stories/fanfic-anime-comics".concat(o>1?"?pageIndex=".concat(o):""),"video games":"/stories/fanfic-video-games".concat(o>1?"?pageIndex=".concat(o):""),celebrities:"/stories/fanfic-celebrities".concat(o>1?"?pageIndex=".concat(o):""),"music & bands":"/stories/fanfic-music-bands".concat(o>1?"?pageIndex=".concat(o):""),movies:"/stories/fanfic-movies".concat(o>1?"?pageIndex=".concat(o):""),"book & literature":"/stories/fanfic-book-literature".concat(o>1?"?pageIndex=".concat(o):""),tv:"/stories/fanfic-tv".concat(o>1?"?pageIndex=".concat(o):""),theater:"/stories/fanfic-theater".concat(o>1?"?pageIndex=".concat(o):""),others:"/stories/fanfic-others".concat(o>1?"?pageIndex=".concat(o):"")}};return a?n[t][a][e]:n[t][e]};t.exports={getCategoryURLByData:e,getCategoryURLById:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o={"0-novel":e("novel","all",null,a),"0-novel-male":e("novel","all","male",a),70001:e("novel","urban","male",a),70002:e("novel","fantasy","male",a),70003:e("novel","history","male",a),70004:e("novel","horror","male",a),70006:e("novel","sci-fi","male",a),70007:e("novel","sports","male",a),70008:e("novel","games","male",a),70009:e("novel","eastern","male",a),70010:e("novel","realistic","male",a),70011:e("novel","acg","male",a),70012:e("novel","action","male",a),70013:e("novel","war","male",a),"0-novel-female":e("novel","all","female",a),70005:e("novel","general","female",a),70014:e("novel","urban","female",a),70015:e("novel","history","female",a),70016:e("novel","fantasy","female",a),70017:e("novel","sci-fi","female",a),70018:e("novel","teen","female",a),70019:e("novel","lgbt","female",a),"0-comic":e("comic","all",null,a),60002:e("comic","action",null,a),60003:e("comic","romance",null,a),60004:e("comic","sci-fi",null,a),60005:e("comic","urban",null,a),60006:e("comic","eastern",null,a),60007:e("comic","school",null,a),60008:e("comic","mystery",null,a),60009:e("comic","cooking",null,a),60010:e("comic","wuxia",null,a),60011:e("comic","comedy",null,a),60012:e("comic","transmigration",null,a),60013:e("comic","inspiring",null,a),60014:e("comic","adventure",null,a),60015:e("comic","horror",null,a),60016:e("comic","magic",null,a),60017:e("comic","harem",null,a),60018:e("comic","history",null,a),60019:e("comic","slice-of-life",null,a),60022:e("comic","fantasy",null,a),60023:e("comic","sports",null,a),60024:e("comic","drama",null,a),60027:e("comic","diabolical",null,a),60029:e("comic","lgbt",null,a),"0-fanfic":e("fanfic","all",null,a),81001:e("fanfic","book & literature",null,a),81002:e("fanfic","celebrities",null,a),81003:e("fanfic","music & bands",null,a),81004:e("fanfic","theater",null,a),81005:e("fanfic","video games",null,a),81006:e("fanfic","anime & comics",null,a),81007:e("fanfic","movies",null,a),81008:e("fanfic","tv",null,a),81009:e("fanfic","others",null,a)};return o[t]},pathToCategoryId:function(t){return{novel:0,"novel-urban-male":70001,"novel-fantasy-male":70002,"novel-history-male":70003,"novel-horror-male":70004,"novel-scifi-male":70006,"novel-sports-male":70007,"novel-games-male":70008,"novel-eastern-male":70009,"novel-realistic-male":70010,"novel-acg-male":70011,"novel-action-male":70012,"novel-war-male":70013,"novel-general-female":70005,"novel-urban-female":70014,"novel-history-female":70015,"novel-fantasy-female":70016,"novel-scifi-female":70017,"novel-teen-female":70018,"novel-lgbt-female":70019,comic:0,"comic-action":60002,"comic-romance":60003,"comic-scifi":60004,"comic-urban":60005,"comic-eastern":60006,"comic-school":60007,"comic-mystery":60008,"comic-cooking":60009,"comic-wuxia":60010,"comic-comedy":60011,"comic-transmigration":60012,"comic-inspiring":60013,"comic-adventure":60014,"comic-horror":60015,"comic-magic":60016,"comic-harem":60017,"comic-history":60018,"comic-slice-of-life":60019,"comic-fantasy":60022,"comic-sports":60023,"comic-drama":60024,"comic-diabolical":60027,"comic-lgbt":60029,fanfic:0,"fanfic-book-literature":81001,"fanfic-celebrities":81002,"fanfic-music-bands":81003,"fanfic-theater":81004,"fanfic-video-games":81005,"fanfic-anime-comics":81006,"fanfic-movies":81007,"fanfic-tv":81008,"fanfic-others":81009}[t]}}},4459:t=>{t.exports=function(t){var e="";return t&&2===t&&(e='<span class="pa t0 r0 fs12 _tag">original</span>'),e}},7696:t=>{t.exports=function(t,e){var a=0,o=0,n=[];return t&&e&&(n=t[e]||[])&&n.length&&(o=Math.random()*n.length,a=Math.floor(o)),n[a]||n[n.length-1]}},4728:t=>{t.exports=function(t){return t&&""!=t?t.split(/\n+/):[]}},99:t=>{t.exports=function(t){if(t&&t.length){for(var e=[],a=0;a<t.length;a++)e[a]=t[a].name;return e.length?e.join(", "):"- -"}return"- -"}},2708:t=>{t.exports=function(t,e){var a="###";return t&&(a="/profile/"+t+(e?"?appId="+e:"")),a}},8855:t=>{t.exports=function(t,e,a){return e}},443:t=>{t.exports=function(t){return(t+"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/=/g,"&#61;").replace(/`/g,"&#96;")}},518:t=>{t.exports=function(t){var e,a=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(new Date).getFullYear();function r(t){return+t<10?"0".concat(t):t}if(t){var i=(e=new Date(+t)).getFullYear(),s=a[e.getMonth()],c=e.getDate();return i!==n||o?"".concat(s," ").concat(c,", ").concat(i):"".concat(s," ").concat(c,", ").concat(r(e.getHours()),":").concat(r(e.getMinutes()))}return"-"}},6708:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});var o=a(7113),n=a.n(o),r=a(9209),i=a.n(r),s=(a(955),{sel:".j_drop",$drop:null,apiDrop:null,removeOnHide:!0,parentScroll:null,onItemClick:function(t,e){}});function c(t){n().extend(!0,this,s,t),this.init()}c.prototype.getDropDom=function(t){var e=t.data("ejs")||{},a=t.attr("href"),o=i().render(a,n().extend(!0,{},{data:e})),r=n()(n().trim(o));return n()("body").append(r),r},c.prototype.onShow=function(t){var e=this;e.parentScroll&&("window"!==e.parentScroll&&n()(window).one("scroll",(function(){t.hide()})),n()(e.parentScroll).one("scroll",(function(){t.hide()})))},c.prototype.init=function(){var t=this;n()(document).on("click",t.sel,(function(e){e.preventDefault();var a=n()(this),o=a.data("drop");if(o)o.show();else{var r=t.getDropDom(a),i=a.drop(r,{eventType:"click",position:"3-2",offsets:{x:8,y:6},onShow:function(e,o){var r=this;t.onShow(r),o.off("click.drop").on("click.drop","a",(function(){r.hide(),t.onItemClick(n()(this),a)}))},onHide:function(){this.el.target.remove()}});i.data("drop").show(),t.apiDrop=i}}))};const l=c},1292:(t,e,a)=>{"use strict";a(9205);var o=a(6156),n=(a(6542),a(9981)),r=a.n(n),i=null,s=0,c={0:6,100:3},l=function(){var t,e,a;if(0!=+s&&i){var o,n=(new Date).getTime(),l={TimeZone:(o=(new Date).getTimezoneOffset()/-60,0===o?"GMT":"GMT".concat(o>0?"+"+o:o)),StatParams:"",BookType:i.bookType,ScrollType:c[i.bookType],BookId:i.bookId,ChapterId:i.chapterId,EndTime:n,ReadingDuration:n-s,StartTime:s,GUID:(null===(t=g_data)||void 0===t||null===(e=t.login)||void 0===e||null===(a=e.user)||void 0===a?void 0:a.userId)||"0"};!function(t,e){if(navigator.sendBeacon)navigator.sendBeacon(t,void 0);else{var a=new Image;a.onload=a.onerror=function(){a=null},a.src=t}}("/go/pcm/reading/report?_csrfToken=".concat(r().get("_csrfToken")||"","&readingInfos=").concat(JSON.stringify([l]))),s=0}},d=function(){var t=document.visibilityState;"hidden"===t&&l(),"visible"===t&&0===s&&(s=(new Date).getTime())},p=function t(){0!==s&&l(),document.removeEventListener("visibilitychange",d),window.removeEventListener("beforeunload",t)};const h=function(t){l(),s=(new Date).getTime(),i=t};var g=a(2271),u=a(7113),f=a.n(u);var m=a(6336),v=a(9209),b=a.n(v),_=a(7398),C=a(2249),I=a(1170),y=a(518),w=a.n(y),k={containerSel:"body",sel:null,$it:!1,events:"mousewheel.doubleScroll DOMMouseScroll.doubleScroll"};function P(t){f().extend(!0,this,k,t),this.init()}P.prototype.run=function(t,e){var a=e.originalEvent.wheelDelta&&(e.originalEvent.wheelDelta>0?1:-1)||e.originalEvent.detail&&(e.originalEvent.detail>0?-1:1);a>0&&0==t.scrollTop&&e.preventDefault(),a<0&&!(t.scrollHeight>t.scrollTop+t.offsetHeight)&&e.preventDefault()},P.prototype.init=function(){var t=this,e=t.$it;e.length?e.off(t.events).on(t.events,(function(e){t.run(this,e)})):f()(t.containerSel).off(t.events).on(t.events,t.sel,(function(e){t.run(this,e)}))};const A=P;var S=a(2516),x=a(6798),T=a(1956),j=a.n(T),N=(a(4340),a(9515),a(955),a(1964),"ui-tips"),L=N+"-";$.fn.tips=function(t){return $(this).each((function(){$(this).data("tips")||$(this).data("tips",new O($(this),t))}))};var O=function(t,e){var a,o,n={attribute:"title",eventType:"hover",content:"",align:"center",delay:100,onShow:$.noop,onHide:$.noop},r=$.extend({},n,e||{}),i=t;if(i.hasClass(N)){var s=i.attr("title")||i.attr("data-title");return s&&i.attr("data-title",s).removeAttr("title"),window.addEventListener||(a=$('<span class="ui-tips-before"></span>').html(s),o=$('<i class="ui-tips-after"></i>'),i.prepend(a),i.append(o),a.css("margin-left",-.5*a.outerWidth()),o.css("margin-left",-.5*o.outerWidth())),void i.data("tips",!0)}var c,l=this,d=function(){var t=r.content;return t||(t=i.attr(r.attribute),"title"==r.attribute&&((t=t||i.data("title"))&&i.data("title",t),i.removeAttr("title"))),t};return this.el={trigger:i,tips:void 0},this.callback={show:r.onShow,hide:r.onHide},this.align=r.align,this.position=r.position,"hover"==r.eventType?i.hover((function(){var t=d();c=setTimeout((function(){l.show(t)}),r.delay)}),(function(){clearTimeout(c),l.hide()})):"click"==r.eventType?(i.click((function(){l.show(d())})),$(document).mouseup((function(t){var e=t.target,a=i.get(0);1==l.display&&a!=e&&0==a.contains(e)&&0==l.el.tips.get(0).contains(e)&&l.hide()}))):this.show(d()),this};O.prototype.show=function(t){if(!t)return this;var e,a,o=this.el.trigger,n=this.el.tips;n?(n.show(),e=n.find("span").html(t),a=n.find("i")):(n=$("<div></div>").addClass("ui-tips-x"),e=$('<span class="ui-tips-before"></span>').html(t),a=$('<i class="ui-tips-after"></i>'),$(document.body).append(n.append(e).append(a)));var r=0,i="5-7";return"left"==this.align?r=-.5*e.width()+parseInt(e.css("padding-left"))||0:"right"==this.align?r=.5*e.width()-parseInt(e.css("padding-right"))||0:"rotate"==this.align?i="6-8":"number"==typeof this.align&&(r=this.align),this.position&&(i=this.position),n.addClass(L+this.align),"rotate"!=this.align&&a.css({left:r}),n.follow(o,{offsets:{x:r,y:0},position:i,edgeAdjust:!1}),this.callback.show.call(o,n),this.el.tips=n,this.display=!0,this},O.prototype.hide=function(){return this.el.tips&&(this.el.tips.hide(),this.callback.hide.call(this.el.trigger,this.el.tips)),this.display=!1,this},O.prototype.init=function(){return window.addEventListener,$("."+N).tips(),$(document).mouseover((function(t){var e=t&&t.target;e&&$(e).hasClass(N)&&!$(e).data("tips")&&$(e).tips()})),this};const D=_.Z.inherit({el:"body",events:{},elements:{},render:function(){return this.setElement(this.el),this.init(),this},init:function(){this.chaModal(),this.easeScroll(),f()(".ui-tips").tips(),f()(".g_chat_reply textarea").autoTextarea(),f()(".cha-modal-bd").on("scroll",(function(){f()(this)[this.scrollTop?"addClass":"removeClass"]("_scrolling")}))},initCostMod:function(){var t=f()("#stoneMod"),e=!1;f()(document).on("click",".j_tone_cost",(function(a){a.preventDefault(),e?e.load():e=t.overlay({load:!0}).data("overlay")}))},chaModal:function(){var t=f()("html");f()(".j_modal").overlay({effect:"onOffNormal",oneInstance:!0,mask:!1,triggerActive:"_on",onBeforeLoad:function(){t.addClass("_sd_on")},onClose:function(){t.removeClass("_sd_on")}})},easeScroll:function(){var t=f()(document),e=f()(window),a=f()("body,html");f()("#goTop").on("click",(function(o){o.preventDefault(),a.stop(!0).animate({scrollTop:t.scrollTop()-e.height()+120},300)})),f()("#goBottom").on("click",(function(o){o.preventDefault(),a.stop(!0).animate({scrollTop:t.scrollTop()+e.height()-120},300)}))}});function M(){this.init()}f().anno27=f().anno27||{},f().anno27.$on=null,M.prototype.getTitle=function(t){return t.attr("data-title")},M.prototype.getTxt=function(t){var e=t.attr("data-annotation-id");return t.parents(".cha-words").find('.tinymce-annotation-container [data-annotation-id="'+e+'"]').html()},M.prototype.getDom=function(t,e){var a='<span class="anno-drop"><span class="anno-drop-arrow"></span><span class="anno-drop-hd">'+t+'</span><span class="anno-drop-bd">'+e+"</span></span>";return f()(a)},M.prototype.setDirection=function(t,e){var a=this.$win.height(),o=this.$win.width(),n=2*e.clientX>o?"_l":"_r",r=2*e.clientY>a?"_t":"_b";t.removeClass("_l"===n?"_r":"_l"),t.removeClass("_t"===r?"_b":"_t"),t.addClass(n+" "+r)},M.prototype.setDom=function(t){var e=this,a=t.parent("anno"),o=e.getTitle(a);if(o){var n=e.getTxt(a),r=e.getDom(o,n);t.append(r),a.removeAttr("data-title"),e.$pop=r}},M.prototype.show=function(t,e){f().anno27.$on&&f().anno27.$on.length&&f().anno27.$on.removeClass("_on"),this.setDirection(t,e),f().anno27.$on=t,setTimeout((function(){t.addClass("_on")}),100)},M.prototype.hide=function(){f().anno27.$on&&f().anno27.$on.length&&(f().anno27.$on.removeClass("_on"),f().anno27.$on=!1)},M.prototype.init=function(){var t=this;t.$win=f()(window),t.$body=f()("body").on("mouseenter","anno sup",(function(e){e.preventDefault(),t.setDom(f()(this))})).on("click","anno sup",(function(e){e.preventDefault();var a=f()(this).parents("anno");a.hasClass("_on")||t.show(a,e)})).on("click",(function(e){var a=e.target;if(f().anno27.$on&&f().anno27.$on.length){var o=f().anno27.$on[0];a&&o&&a!=o&&0==o.contains(a)&&t.hide()}}));var e=!1;t.$win.on("resize",(function(){!e&&t.hide(),e=!0,setTimeout((function(){e=!1}),500)}))};const B=M;function R(t){f().extend(this,t,!0),this.init()}R.prototype.set=function(t,e){var a=this.$target;t.each((function(){a.removeClass(this.value)})),a.addClass(e)},R.prototype.upDn=function(){var t=this.$box,e=this.upDnOpt;t.find(e.boxSel).each((function(t,a){for(var o=f()(this),n=o.find("input").attr("type","text"),r=o.find(e.dnSel),i=o.find(e.upSel),s=n.attr("data-step").split(","),c=s.length,l=parseInt(n.attr("data-default")),d=!1,p=0,h=s.length;p<h;p++)if(l==parseInt(s[p])){d=p;break}d||(d=0),i.on("click",(function(){var t=parseInt(n.val());++d>=c&&(d=c-1);var e=s[d];e!==t&&n.val(e).trigger("change")})),r.on("click",(function(){var t=parseInt(n.val());--d<=0&&(d=0);var e=s[d];e!==t&&n.val(e).trigger("change")}))}))},R.prototype.bindEvent=function(){var t=this,e=t.$box;f().each(t.changeRule,(function(a,o){var n='[name="'+a+'"]',r=e.find(n);e.on("change",n,(function(){var e=f()(this),a=e.val();if("string"==typeof o&&t.set(r,a),"function"==typeof o)return o(t,r,e,a),!1}))}))},R.prototype.init=function(){var t=this;t.bindEvent(),t.upDnOpt&&t.upDn()};const E=R;var U=a(8833),V={chapters:{},bookId:null};function Z(t){f().extend(!0,this,V,t)}Z.prototype.setChapterInfo=function(t,e){this.chapters[t]={data:e}},Z.prototype.getChapterInfo=function(t){return this.chapters[t]},Z.prototype.reset=function(){this.chapters={}};const H=Z;a(2988);const q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={placeholder:"data:image/gif;base64,R0lGODlhCgAKAIAAAP///wAAACH5BAEAAAAALAAAAAAKAAoAAAIIhI+py+0PYysAOw==",threshold:280,data_attribute:"original",failure_limit:10};t?t.find("[data-original]").lazyload(e):f()("[data-original]").lazyload(e)};var F={selector:".j_show_img"};function G(t,e){this.selector=t,f().extend(!0,this,F,e),this.init()}G.prototype.get$modal=function(t){var e=t.attr("data-src"),a=t.find("img"),o="img",n=null,r=null,i=null;a&&a.length&&(i=a.attr("src"),n=a.attr("width"),r=a.attr("height"),o=a.attr("alt"));var s=(n?'width="'+n+'" ':"")+(r?'height="'+r+'" ':"")+'alt="'+o+'"',c="",l=i&&n&&r;if(l){var d="";+n>+document.body.clientWidth?d='style="width:100%;height:auto;"':+r>+document.body.clientHeight&&(d='style="height:100%;width:auto;"'),c='<img cross-origin="anonymous" class="j_thumb" src="'+i+'" '+s+" "+d+" />"}var p='<div class="g_mod_wrap g_mod_img">'+(l?c:'<div class="g_loading _auto _on"><i></i></div>')+'<img cross-origin="anonymous" class="_img" src="'+e+'" '+s+' /><a title="close" href="###" class="j_close _close pa t0 r0 mt16 mr16"><svg><use xlink:href="#i-times"></use></svg></a></div> ',h=f()(f().trim(p));return f()("body").append(h),l&&f()(window).one("resize",(function(){h.find(".j_thumb").remove()})),h},G.prototype.show=function(t){var e=t.overlay().data("overlay");e.load(),t.on("click",".j_close",(function(a){a.preventDefault(),e.close(),setTimeout((function(){t.remove()}),500)}))},G.prototype.init=function(){var t=this;f()(document).on("click",this.selector,(function(e){e.preventDefault();var a=f()(this),o=t.get$modal(a);setTimeout((function(){t.show(o)}),16)})).on("mouseenter",this.selector,(function(){var t=f()(this);if(!t.data("img-init")){var e=t.attr("data-src");e&&((new Image).src=e,t.data("img-init",!0))}}))};const z=G;var W={bookId:-1,dropSel:".j_para_drop_bar",tplSel:"#tplParaOperationDrop",canShowMtl:!1,canShowPara:!1};function Q(t){f().extend(this,W,t,!0),this.init()}Q.prototype.togglePara=function(t){this.canShowPara=1==+t},Q.prototype.toggleMtl=function(t){this.canShowMtl=1==+t},Q.prototype.getDropDom=function(t,e,a,o){var n=t.find(this.dropSel);n.length&&n.remove();var r=e.data("ejs")||{};r.hasCount=a,r.hasMtlEdit=o,r.bookId=this.bookId,r.userId=g_data.login.user.userId||-1,r.originalUserId=r.originalUserId||-1;var i=b().render(this.tplSel,{data:r});return n=f()(f().trim(i)),t.append(n),n},Q.prototype.isInScreenTop=function(t){return t[0].getBoundingClientRect().top<100},Q.prototype.init=function(){var t=this,e=null,a=null;f()(document).on("mouseenter",".j_paragraph",(function(o){if(o.preventDefault(),t.canShowMtl||t.canShowPara){var n=f()(this),r=n.find(".j_paragraph_content"),i=r.length>0?"para":"title",s=1===g_data.isWhiteUser&&1===g_data.isTranslateMode&&"title"!==i,c=n.parents(".para-comment-allowed").length>0;(c||s)&&(e=setTimeout((function(){t.getDropDom(n,r,c,s)[t.isInScreenTop(n)?"addClass":"removeClass"]("_reverse"),a=setTimeout((function(){n.addClass("_show_tip")}),0)}),300),g.Z.send({target:null},{l1:"1",eid:"qi_A_paragraph",pdid:t.bookId,uiname:"paragraph",dt:n.find(".para-comment-num").length}))}})).on("mouseleave",".j_paragraph",(function(){clearTimeout(e),clearTimeout(a),f()(this).removeClass("_show_tip")}))};const K=Q;var X=a(1469),J=a(3309),Y=a(9168),tt=a(3353),et=a(4748),at=a(7408),ot=a.n(at),nt=a(2708),rt=a.n(nt),it=a(8855),st=a.n(it),ct=a(3229),lt=a.n(ct);function dt(t,e){this.globalParams={chapterId:e.id,bookId:t,orderType:1},this.ChapterCommentStore=new tt.Z,e.comNum&&this.setChapterCommentNum(e.id,+e.comNum),this.$headCount=f()(".j_comment_title i"),this.isMainLast=0,this.onceInited=!1,this.open=!1,this.init(),this.$tab=f()(".j_tab_chat"),this.apiTab=new Y.Z(this.$tab)}a(6524),a(2043),a(4527),dt.prototype.init=function(){var t=this;new J.Z({parentScroll:".j_comment_chat",delAction:function(e){var a=e.data("ejs");if(a.reviewId){var o=f()(".j_review_del_"+a.reviewId),n=o.closest(".j_chapter_comment_main").data("ejs").reviewId;n===a.reviewId&&(n=null),t.ChapterCommentStore.deleteComment(t.globalParams.chapterId,a.reviewId,n,(function(e){n&&t.refreshReplyBtn(n),o.remove(),t.syncHeaderCount(),(new I.Z).success(e.msg)}),(function(t){(new I.Z).error(t.msg||"error")}))}}}),f()(document).on("click",".j_tab_chat>a",(function(e){var a=e.target.getAttribute("data-order");t.checkoutCommentType(a),t.getComments()})).on("click",".j_comment_good",(function(t){(0,X.Z)(t)})).on("click",".j_bottom_comments",(function(e){e.preventDefault(),t.onceInit();var a=f()(e.target).closest(".chapter_content").data("cid");t.open=!0,t.ChapterCommentStore.stop(),t.scrollToCorrectChapter(e),t.checkoutCommentType(1),t.checkoutCommentByChapterId(a)})).on("click",".j_comments",(function(e){e.preventDefault();var a=f()(this);a.hasClass("_on")||(a.addClass("_on"),t.onceInit(),t.open=!0,t.ChapterCommentStore.stop(),t.checkoutCommentType(1),t.getComments())})).on("click",".j_get_more_replies",(function(e){var a=f()(this).closest(".j_comment_wrap");t.getReplysByReivewDom(a)})).on("click",".j_comment_review",(function(e){if(e.preventDefault(),0==+g_data.login.statusCode){var o=f()(this);if(o.hasClass("_disabled"))return;o.addClass("_disabled"),Promise.all([a.e(8256),a.e(8928)]).then(a.bind(a,8928)).then((function(e){var a=e.default;o.removeClass("_disabled"),new a({title:"Add a Chapter Comment",url:t.ChapterCommentStore.getAddUrl(),params:{bookId:t.globalParams.bookId,chapterId:t.globalParams.chapterId},onSuccess:function(e){t.ChapterCommentStore.addComment(t.globalParams.bookId,t.globalParams.chapterId),t.ChapterCommentStore.resetCommentByChapterId(t.globalParams.chapterId),t.checkoutCommentType(2),t.getComments(),t.syncHeaderCount(),(new I.Z).success(e.msg||"success")}})}))}})).on("click",".j_chapter_reply",(function(e){e.preventDefault();var o=f()(this).closest(".j_comment_wrap"),n=f()(this).closest(".j_chapter_comment_main"),r=n.data("ejs")||{},i=o.data("ejs")||{},s=null;if(i&&(s=i.reviewId),s){var c=f()(this);c.hasClass("_disabled")||(c.addClass("_disabled"),Promise.all([a.e(8256),a.e(8928)]).then(a.bind(a,8928)).then((function(e){var a=e.default;c.removeClass("_disabled"),new a({title:"Reply to a comment",quote:b().render(' <%\nvar  originalImageURL = "";\nif(item.imageItems && item.imageItems.length>0){\noriginalImageURL = item.imageItems[0].imageUrl;\n}\n%> <% if(item.userName){ %> <span class="fw700"><%= item.userName %>:</span> <% } %> <% if(item.content){ %> <span><%- formatCommentContent(item.content) %></span> <% }else if(originalImageURL){ %> <span> <svg> <use xlink:href="#i-img"></use> </svg> image</span> <% } %> ',{item:t.ChapterCommentStore.getReviewByReviewId(s),formatCommentContent:ot()}),url:t.ChapterCommentStore.getAddUrl(),params:{bookId:t.globalParams.bookId,chapterId:t.globalParams.chapterId,reviewId:s},onSuccess:function(e){t.ChapterCommentStore.addComment(t.globalParams.bookId,t.globalParams.chapterId,r.reviewId),t.ChapterCommentStore.resetReviewByReviewId(r.reviewId),t.getReplysByReivewDom(n),t.syncHeaderCount(),(new I.Z).success(e.msg||"success")}})})))}}))},dt.prototype.onceInit=function(){if(!this.onceInited){this.onceInited=!0;var t=this,e=f()("html"),a=f()(".cha-tools .j_comments"),o=f()("#modalReview");t.$modalChat=o,t.$modalBody=o.find(".j_reply_block"),t.apiModalLoading=o.find(".j_comment_loader").loadingBox().data("loadingBox"),o.overlay({effect:"onOffNormal",oneInstance:!0,mask:!1,triggerActive:"_on",onBeforeLoad:function(){a.addClass("_on"),e.addClass("_sd_on")},onLoad:function(){g.Z.send({target:null},{l1:"1",ltype:"P",pdt:"chaptercommentlist",eid:"qi_P_commentlist",pdid:t.globalParams.bookId,cid:t.globalParams.chapterId})},onClose:function(){f()(".j_comments").removeClass("_on"),e.removeClass("_sd_on"),t.open=!1,t.reset()}}),t.chatModalApi=o.data("overlay"),t.initCommentScroll()}},dt.prototype.syncHeaderCount=function(){var t=this,e=t.ChapterCommentStore.getCommentNum(t.globalParams.chapterId);t.$headCount.html(e>0?e:"")},dt.prototype.getReplysByReivewDom=function(t){var e=this,a=(t.data("ejs")||{}).reviewId;if(a){var o=t.find(".j_more_replies_body"),n=f()('<span class="g_loading _on"><i></i></span>'),r=t.find(".j_get_more_replies"),i=e.ChapterCommentStore.getLastTimeByReviewId(a);0===i?o.html(n):o.append(n),e.ChapterCommentStore.requestChapterCommentReplys(e.globalParams.bookId,e.globalParams.chapterId,a,i,(function(t){1===t.isLast?r.addClass("dn"):r.hasClass("dn")&&r.removeClass("dn"),e.refreshReplyBtn(a,r),e.renderDom(i,a,o)}),(function(){}),(function(){n.remove()}))}},dt.prototype.checkoutCommentType=function(t){var e=this,a=t?2==+t?2:1:this.globalParams.orderType,o=e.$tab.find('[data-order="'+a+'"]').addClass("_on");o.siblings("._on").removeClass("_on"),e.apiTab.moveTo(o),e.globalParams.orderType=a,e.reset()},dt.prototype.setChapterCommentNum=function(t,e){this.ChapterCommentStore.setChapterCommentNum(t,e)},dt.prototype.checkoutCommentByChapterId=function(t,e){var a=this;if(e&&e.comNum>=0){var o=+e.comNum;f()(".cha-tools .j_comments i").html(o>99?"99+":o||""),a.setChapterCommentNum(t,o)}t&&a.setCurChapId(t),a.open&&a.getComments()},dt.prototype.getComments=function(){var t=this;if(t.open){t.chatModalApi&&t.chatModalApi.load();var e=t.ChapterCommentStore.getLastTimeByChapterId(t.globalParams.chapterId);t.apiModalLoading.loading(),0===e&&t.$modalBody.html(""),t.ChapterCommentStore.requestChapterCommentList(t.globalParams.bookId,t.globalParams.chapterId,"",e,t.globalParams.orderType,(function(a){t.isMainLast=a.isLast,t.renderDom(e),t.syncHeaderCount()}),(function(t){}),(function(){1==t.isMainLast&&t.apiModalLoading.unloading()}))}},dt.prototype.initCommentScroll=function(){var t=this,e=f()(".j_comment_chat");new U.Z({$wrapper:e,$scroller:e,onLoadingNext:function(){var e=t.ChapterCommentStore.getLastTimeByChapterId(t.globalParams.chapterId);1!==t.isMainLast&&0!==e&&t.getComments()},onLoadingPrev:function(){}})},dt.prototype.setCurChapId=function(t){this.reset(),this.globalParams.chapterId=t,this.$modalChat&&this.$modalChat.attr("data-report-cid",t)},dt.prototype.refreshReplyBtn=function(t,e){if(t){e||(e=f()(".j_review_del_"+t+" .j_get_more_replies"));var a=this.ChapterCommentStore.getReviewByReviewId(t),o=0;a&&(o=a.replyAmount||0);var n=o-this.ChapterCommentStore.getShowedReviewsNumByReviewId(t);n<=0?e.addClass("dn"):e.find("strong").removeClass("dn").html("view "+n+" replies")}},dt.prototype.renderDom=function(t,e,a){var o=this;a=a||o.$modalBody;var n=[];e?(n=o.ChapterCommentStore.getReplyQueueByReviewId(e),o.ChapterCommentStore.clearReplyQueueByReviewId(e)):(n=o.ChapterCommentStore.getCommentQueueByChapterId(o.globalParams.chapterId),o.ChapterCommentStore.clearCommentQueueByChapterId(o.globalParams.chapterId));var r=n.map((function(t){return o.ChapterCommentStore.getReviewByReviewId(t)})),i=b().render(et.Z,{data:{items:r,chapterId:o.globalParams.chapterId,bookId:o.globalParams.bookId},statusCode:g_data.login.statusCode,user:g_data.login.user,isAuthor:o.ChapterCommentStore.getIsAuthor(),env:g_data.env,staticPath:g_data.staticPath,lastTime:t,from:e?"review":"",formatCommentContent:ot(),getUserHomeUrl:rt(),getUserName:st(),getUserAvatar:lt()});a.append(i).find(".g_txt_over").rowsEll()},dt.prototype.reset=function(){this.$headCount.html(""),this.ChapterCommentStore.stop(),this.isMainLast=0},dt.prototype.scrollToCorrectChapter=function(t){var e=f()(t.currentTarget);if(!e.hasClass("cha-tools-reviews")&&!e.hasClass("j_comment_link_"+this.globalParams.chapterId))try{var a,o;void 0!==e.get(0)&&(o=f()(e.get(0)).offset().top-f()(window).scrollTop()),a=parseInt(f()(window).scrollTop()-f()(window).height()/2+o-70),f()("html,body").animate({scrollTop:a},300)}catch(t){}};const pt=dt;function ht(){this.init()}ht.prototype.init=function(){var t=this;t.mtlShowPos=-1,t.mtlHasShow=-1,t.paraHasShow=-1,t.paraClosed=-1,t.mtlClosed=-1,t.isChapterLocked=!1,t.$win=f()(window),t.getFirstChapter(),t.getFirstChapterParas(),t.isChapterLocked||(t.initParaTips(),t.initMtlTip())},ht.prototype.getFirstChapter=function(){this.firstChapter=f()(".j_chapter_"+g_data.firstChap.id+" .cha-content"),this.isChapterLocked=this.firstChapter.hasClass("_lock")},ht.prototype.getFirstChapterParas=function(){this.firstChapterParas=f()(".j_chapter_"+g_data.firstChap.id+" .j_paragraph"),this.mtlPara=this.firstChapterParas.eq(0)},ht.prototype.refresh=function(t){var e=this;e.curChapterId=t,-1===e.paraClosed&&(e.getFirstChapter(),0===e.firstChapter.length?(e.paraClosed=1,f()(".j_para_comment_tip").remove()):this.refrshPosition()),-1===e.mtlClosed&&(e.getFirstChapter(),0===e.firstChapter.length?(e.mtlClosed=1,f()(".j_edition_tip").remove()):this.refrshMtlPosition())},ht.prototype.initParaTips=function(){var t=this;if(1!=+r().get("para-comment-tip-show")){if(f()(".j_para_comment_tip").remove(),t.firstChapter.length>0){var e=b().render('<div class="pt12 pb12 pl16 pr16 chapter-pop-tip j_para_comment_tip" style="top:<%=top%>px"> <p class="fs16 lh20 mb12 chapter-pop-tip-tit"> <img cross-origin="anonymous" class="vat" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAMAAAChHKjRAAAAtFBMVEUAAAD/iyj+jCDuZQ/pXRD/jCn/jSn1chjzdBr5gSL+iibzcRfvZhHkTwPtZRHkTgL/jSn3eh3+iyfkTQL4eh7qXAvoVwn9iSb4ex7rXAjrXQvxbhXwaxPmUQTpWgrvZxH5giH2dhzpVwf6giLnVQb2dhvvZxLpWwvrYAznUAD/jSnybhbwahPvZhH2dhrtYg7rXgz5fyD0chjpWgn7giL3eh3mUQT9hiXoVgf4eh3zchjoVQZkTQGiAAAAKnRSTlMAgBCfEM+gn0Ag79/fgEDv39+/v4CAcG9vIP7v7+7fz6+vr5+fj49fQCCE3zSzAAAA/UlEQVQ4y+WP13LCMBBFr0rsGBtTQk3vxRASSDDt//8LyyDJGmQNMwwPDOdFo92jvSscD5Ik5IQkQmwS8RzPddUzrsoyixfUYgVv4WD4wPoFx7TqFK3paDkYfv/8tgFPO9qqB3gZL0aTXPp7zSzlaCjI/3gqpVVHVHYJZkJabqT5HYeNbiapuHlahY2mKV2ZK+cAlWLcKq2pjiDJyc5cmkgpVR0tqUkyriY7RlxTSMZOKk5D9vkdrRiTvmClW5xURQmPWnpGGbQhf3ffRym97U7XHyiHXmbEcfzJ4aDn+z5jrAMXrU1cGwcTNMIwiiIOJ08ijsEN929u3znOiTVJozXlBncD0gAAAABJRU5ErkJggg==" width="18" height="20" alt="tip"> Paragraph comment </p> <p class="fs16 lh20 mb4 chapter-pop-tip-des"> Paragraph comment feature is now on the Web! Move mouse over any paragraph and click the icon to add your comment. </p> <p class="fs16 lh20 mb12 chapter-pop-tip-des"> Also, you can always turn it off/on in Settings. </p> <a class="bt _s j_para_comment_close" title="GOT IT">GOT IT</a> </div> ',{staticConf:{staticPath:g_data.staticPath,domainPrefix:g_data.env},top:t.firstChapter.offset().top});f()("body").append(e),f()(".j_para_comment_close").bind("click",(function(e){t.closeParaTips(e)}))}}else t.closeParaTips=1},ht.prototype.refrshPosition=function(){f()(".j_para_comment_tip").css({top:this.firstChapter.offset().top})},ht.prototype.closeParaTips=function(t){t.preventDefault(),r().set("para-comment-tip-show",1,".webnovel.com","/",31536e6),this.paraClosed=1,f()(".j_para_comment_tip").remove()},ht.prototype.initMtlTip=function(){var t=this;if(0!=+g_data.isTranslateMode){if(1!=+r().get("mtl-edition-tip-show")&&t.firstChapter.length>0){var e=1,a="",o=0;if(1===g_data.isWhiteUser)e=1;else if(1===t.firstChapterParas.length)e=0;else for(var n=1;n<t.firstChapterParas.length;n++)if(t.firstChapterParas.eq(n).has(".j_edition_count").length>0){e=n;break}if(e>=1&&t.firstChapterParas.length>e){this.mtlPara=t.firstChapterParas.eq(e);var i=this.mtlPara;o=i.offset().top,o=this.checkMtlPosition(o);var s=i.data("ejs")||{};a=b().render('<div class="pt12 pb12 pl16 pr16 chapter-pop-tip j_edition_tip" style="top:<%=top%>px" data-paragraphid="<%=paragraphId%>"> <p class="fs16 lh20 mb12 chapter-pop-tip-tit"> <img cross-origin="anonymous" class="vat" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAMAAAChHKjRAAAAtFBMVEUAAAD/iyj+jCDuZQ/pXRD/jCn/jSn1chjzdBr5gSL+iibzcRfvZhHkTwPtZRHkTgL/jSn3eh3+iyfkTQL4eh7qXAvoVwn9iSb4ex7rXAjrXQvxbhXwaxPmUQTpWgrvZxH5giH2dhzpVwf6giLnVQb2dhvvZxLpWwvrYAznUAD/jSnybhbwahPvZhH2dhrtYg7rXgz5fyD0chjpWgn7giL3eh3mUQT9hiXoVgf4eh3zchjoVQZkTQGiAAAAKnRSTlMAgBCfEM+gn0Ag79/fgEDv39+/v4CAcG9vIP7v7+7fz6+vr5+fj49fQCCE3zSzAAAA/UlEQVQ4y+WP13LCMBBFr0rsGBtTQk3vxRASSDDt//8LyyDJGmQNMwwPDOdFo92jvSscD5Ik5IQkQmwS8RzPddUzrsoyixfUYgVv4WD4wPoFx7TqFK3paDkYfv/8tgFPO9qqB3gZL0aTXPp7zSzlaCjI/3gqpVVHVHYJZkJabqT5HYeNbiapuHlahY2mKV2ZK+cAlWLcKq2pjiDJyc5cmkgpVR0tqUkyriY7RlxTSMZOKk5D9vkdrRiTvmClW5xURQmPWnpGGbQhf3ffRym97U7XHyiHXmbEcfzJ4aDn+z5jrAMXrU1cGwcTNMIwiiIOJ08ijsEN929u3znOiTVJozXlBncD0gAAAABJRU5ErkJggg==" width="18" height="20" alt="tip"> TIP </p> <p class="fs16 lh20 mb12 chapter-pop-tip-des"> <% if(+isWhiteUser===1){ %> This work is machine translated. <br/>Click on the paragraph and you can modify the lacking parts. <br/>Your version will be seen by other users, and might become the official version. <br/>Give it a try! <% }else{ %> This paragraph has been edited! <br/>Click the small bubble to check the other versions of the paragraph, and give the one you like best a Like! <% } %> </p> <a class="bt _s j_edition_tip_close" title="GOT IT">GOT IT</a> </div> ',{statusCode:g_data.login.statusCode,staticConf:{staticPath:g_data.staticPath,domainPrefix:g_data.env},env:g_data.env,isWhiteUser:g_data.isWhiteUser,top:o,paragraphId:s.paragraphId}),f()("body").append(a),f()(".j_edition_tip_close").bind("click",(function(e){t.closeMtlTip(e)}))}else t.mtlClosed=1}}else t.mtlClosed=1},ht.prototype.closeMtlTip=function(t){t.preventDefault(),r().set("mtl-edition-tip-show",1,".webnovel.com","/",31536e6),this.mtlClosed=1,f()(".j_edition_tip").remove()},ht.prototype.checkMtlPosition=function(t){if(f()(".j_para_comment_tip").length>0){var e=f()(".j_para_comment_tip").offset().top+250;t=t>e?t:e}return t},ht.prototype.refrshMtlPosition=function(){try{var t=this.mtlPara.offset().top;t=this.checkMtlPosition(t),f()(".j_edition_tip").css("top",t)}catch(t){}};const gt=ht;var ut=a(7657),ft=a(6258),mt=a.n(ft),vt=a(1558),bt=a.n(vt),_t={bookId:-1,batchModalSelector:".j_unlock_batch_modal",batchFormSelector:".j_unlock_batch_gear_wrap",batchRadio:".j_unlock_batch_gear_wrap input[name=unlock_batch_gear]",batchCostSelector:".j_batch_cost",batchSuccessCallback:function(){}},Ct=-1;function It(t){var e=t.pid,a=t.pdid,o=t.blocktitle;return t.balance<t.price&&1!==Ct?(Ct=1,void g.Z.send({},{l1:1,ltype:"C",pid:e,pdid:a,blocktitle:o,eid:"qi_C_batchsubscribe_buycoins",uiname:"buycoins"})):t.balance>=t.price&&2!==Ct?(Ct=2,void g.Z.send({},{l1:1,ltype:"C",pid:e,pdid:a,blocktitle:o,eid:"qi_C_batchsubscribe_unlock",uiname:"unlock"})):void 0}function yt(t){var e=this;f().extend(this,_t,t,!0),e.$modalAPI=null,e.getGearAjax=null,e.$batchForm=f()(e.batchFormSelector),e.$modalDom=f()(e.batchModalSelector),e.submitBatchAjax=null,e.init()}yt.prototype.init=function(){var t=this;f()(document).on("click",".j_batch_unlock_chapters",(function(e){var a=f()(e.currentTarget).data("unlock-params");a&&(t.getBatchGear(a),t.$batchForm.attr({"data-report-blocktitle":a.chapterId}),t.$modalAPI?t.$modalAPI.load():t.initModal((function(){t.$modalAPI.load()})))})).on("click",".j_batch_unlock_submit",(function(e){var a=C.Z.getFormParams(t.$batchForm.serializeArray()),o=f()(e.currentTarget);o.addClass("_loading"),t.submitBatchChapters({info:a,callback:function(){o.removeClass("_loading")}})}))},yt.prototype.submitBatchChapters=function(t){var e=t.info,a=t.callback||function(){},o=e.bookId,n=+e.bookType,r=e.chapterId,i=e.bookName,s=e.chapterName,c=100===n?"cbatchsubscribetoast":"batchsubscribetoast";try{var l=JSON.parse(e?e.unlock_batch_gear:"{}")}catch(t){}function d(t,e){2===t&&(new I.Z).error(e||"Coins deduction failed, try again later."),1===t&&(new I.Z).success("Batch unlock chapters successfully."),g.Z.send({},{l1:1,ltype:"C",pid:c,pdid:o,blocktitle:r,eid:"qi_C_batchsubscribetoast",dt:t})}this.submitBatchAjax=f().ajax({method:"POST",url:"/go/pcm/book/unlockBatchChapters",data:{bookId:o,novelType:n,chapterId:r,chapterCount:l.chapterCount,price:l.price,statParam:""},success:function(t){if(0===t.code){var e,c=t.data&&t.data.unlockResult||{};if(0!=c.refreshPage)return d(2,"The chapter info has changed. Please refresh the page"),a(),!1;if(0!=c.noBalance)return d(2,"Sorry, you are out of balance."),a(),!1;if(0==c.unlocked)return d(2),a(),!1;if(d(1),e=100===n?mt()(null,o,r,i,s):bt()(null,o,r,i,s))return void setTimeout((function(){window.location.href=e}),1e3)}d(2),a()},error:function(){a(),d(2,"network error")}})},yt.prototype.getBatchGear=function(t){var e=this,a=t.bookId,o=+t.bookType,n=t.chapterId,r=t.chapterName,i=t.bookName,s=100===o?"cbatchsubscribe":"batchsubscribe";a&&o>=0&&n&&(e.getGearAjax=f().ajax({method:"GET",url:"/go/pcm/book/getBatchSubscribeGrade",data:{bookId:a,novelType:o,chapterId:n},success:function(t){if(0===t.code){var c=t.data.balance,l=t.data.batchSubscribeGradeList[0]||{};e.$batchForm.html(b().render("#tplUnlockBatchGear",f().extend(!0,{},t,{staticConf:{staticPath:g_data.staticPath},data:{bookId:a,bookType:o,chapterId:n,chapterName:r,bookName:i},firstBatch:l}))),e.$batchCost=f()(e.batchCostSelector),f()(e.batchRadio).bind("change",(function(t){try{var o=JSON.parse(f()(t.target).val());e.$batchCost.html(b().render("#tplBatchCost",f().extend(!0,{},o,{balance:c}))),It({balance:c,price:o.optimalPrice||o.originalPrice,pid:s,pdid:a,blocktitle:n})}catch(t){console.log(t)}})),It({balance:c,price:l.optimalPrice||l.originalPrice,pid:s,pdid:a,blocktitle:n})}}}))},yt.prototype.initModal=function(t){var e=this;e.$modalAPI||(e.$modalAPI=e.$modalDom.overlay({onLoad:function(){g.Z.send({target:e.$modalDom[0]},{eid:"qi_P_batchsubscribe",ltype:"P"})},onClose:function(){e.getGearAjax&&e.getGearAjax.abort&&e.getGearAjax.abort(),e.$batchForm.html('<div class="g_loading _on"><i></i></div>')}}).data("overlay"),"function"==typeof t&&t())};const wt=yt;var kt={isResponseValidate:function(t){return t&&0===t.code}},Pt={timeout:2e4,method:"GET"};function At(t,e,a){e&&e.url&&(f().extend(!0,this,kt,a||{}),this.init(f().extend(!0,{},Pt,e)))}function St(t,e){return new At("GET",t,e)}At.prototype.init=function(t){var e=this.removeSuccessError(t),a=this.getParams(e);f().ajax(a)},At.prototype.removeSuccessError=function(t){var e={},a=null,o=null;return f().each(t,(function(t,n){"success"===t?a=n:"error"===t?o=n:e[t]=n})),{params:e,success:a,error:o}},At.prototype.getParams=function(t){var e=this,a=t.params||{},o=t.success||function(){},n=t.error||function(){};return a.success=function(t){e.isResponseValidate(t)?o(t.data,t):n(t.msg,t)},"function"==typeof t.error&&(a.error=function(t){n(t.msg||"Something went wrong!",t)}),a},St.get=function(t,e){return new At("GET",t,e)},St.post=function(t,e){return new At("POST",t,e)};const xt=St,Tt=function(t){if(!t||!t.length)return null;var e="mousewheel";void 0!==document.mozHidden&&(e="DOMMouseScroll"),t.on(e,(function(t){var e=this.scrollTop,a=this.scrollHeight,o=this.clientHeight,n=t.originalEvent.wheelDelta?t.originalEvent.wheelDelta:-(t.originalEvent.detail||0);(n>0&&e<=n||n<0&&a-o-e<=-1*n)&&(this.scrollTop=n>0?0:a,t.preventDefault())}))};function jt(t){t=t||{},this.pagination={pageSizeMin:100,pageNumMax:10,pageSize:100,currentPage:0,pageNum:1,ignore:0},this.isPreload=t.isPreload||!1,this.selTrigger=".j_catalog",this.selScroller=".j_catalog_modal_body",this.$scroller=null,this.currentChapterId=null,this.getChapterId=t.getChapterId||function(){},this.onChapterChange=t.onChapterChange||function(){},this.isPaginationFirst=!0,this.init()}jt.prototype.init=function(){var t=this,e=f()("body");t.isPreload&&setTimeout((function(){t.loadData()}),200),f().each(["mouseenter","focus"],(function(a,o){e.on(o,t.selTrigger,(function(){t.loadData()}))})),new Tt(t.get$scroller()),e.on("click",t.selTrigger,(function(e){e.preventDefault(),t.getIsModalShow()&&(g.Z.send({},{l1:1,eid:"qi_C_reader_content",ltype:"C",uiname:"content",pdid:g_data.bookId,blocktitle:g_data.currChapId}),t.loaded?t.showCatalogContent():t.get$scroller().html(' <span class="g_loading db _auto _on"><i></i></span> '))})),e.on("click",".j_pagination a",(function(e){e.preventDefault();var a=f()(this);if(!a.hasClass("_on")){var o=f()(this).data("index");a.addClass("_on").siblings("._on").removeClass("_on"),t.pagination.currentPage=o,t.render()}})),e.on("click",t.selScroller+" a",(function(e){e.preventDefault();var a=f()(this);if(!a.hasClass("_on")){a.addClass("_on").siblings("._on").removeClass("_on");var o=a.data("index"),n=t.data.chapters[o];t.currentChapterId=n.chapterId,t.onChapterChange({chapterId:n.chapterId,chapterName:n.chapterName}),g.Z.send({},{l1:1,eid:"qi_A_reader_content",uiname:"content",pdid:g_data.bookId,blocktitle:g_data.currChapId,did:t.currentChapterId})}}))},jt.prototype.getIsModalShow=function(){return f()("#modalCatalog").hasClass("_on")},jt.prototype.updateData=function(t){if(this.data&&this.data.chapter&&this.data.chapter.length){var e=t(this.data);e&&(this.data=e)}},jt.prototype.showCatalogContent=function(){var t=this,e=t.getChapterId();if(e!==t.currentChapterId){this.currentChapterId=e;var a=t.getNewPage(e);(t.isPaginationFirst||a!==t.pagination.currentPage)&&(t.pagination.currentPage=a,t.renderPagination()),t.render(),t.scrollIntoView()}else t.scrollIntoView()},jt.prototype.changeCurrentId=function(t){var e=this;if(e.loaded&&e.getIsModalShow())if(t!==e.currentChapterId){e.currentChapterId=t;var a=e.getNewPage(t);if(a!==e.pagination.currentPage)return e.pagination.currentPage=a,e.renderPagination(),e.render(),void e.scrollIntoView();e.get$scroller().find('a[data-cid="'+t+'"]').addClass("_on").siblings("._on").removeClass("_on"),e.scrollIntoView()}else e.scrollIntoView()},jt.prototype.scrollIntoView=function(){var t=this.get$scroller(),e=t.find("a._on");if(e.length){var a=parseInt(e[0].offsetTop-parseInt(t.height()/2));t.animate({scrollTop:a},300)}},jt.prototype.get$scroller=function(){return this.$scroller||f()(this.selScroller)},jt.prototype.render=function(){var t=this,e=t.data.chapters,a=t.pagination,o=a.currentPage*a.pageSize,n=(a.currentPage+1)*a.pageSize;n>e.length&&(n=e.length);var r={currentChapterId:t.currentChapterId,bookInfo:t.data.bookInfo,chapterStartIndex:o,isLastPage:a.currentPage===a.pageNum-1,chapters:e.slice(o,n)},i=b().render('<%\nvar bookInfo = data.bookInfo;\nvar chapters = data.chapters;\n%> <% if(chapters.length){ %> <% for(var i = 0; i < chapters.length; i++) { %> <% var chapter = chapters[i]; %> <% if(i === 0 || chapters[i].volumeInfo.chapterIndex !== chapters[i - 1].volumeInfo.chapterIndex){ %> <h4 class="fw400 fs16 lh24 c_s mt16"><%= chapter.volumeInfo.title %></h4> <% } %> <%\n            var icon = \'\';\n            if (chapter.source == \'GT\') {\n                icon = \'gt\'\n            } else if (chapter.isVip == 1) {\n                icon = \'bonus\'\n            } else if (chapter.isVip == 2 && !chapter.isAuth) {\n                icon = \'lock\'\n            }\n        %> <a href="###" title="<%= chapter.chapterName %>" class="db pr g_hr clearfix fs16 lh24 pt12 pb12 <%= data.currentChapterId === chapter.chapterId ? \'_on\' : \'\' %>" data-cid="<%= chapter.chapterId %>" data-index="<%= i + data.chapterStartIndex %>" data-report-cid="<%= chapter.chapterId %>"> <% if(icon){ %> <svg class="fr ml12 c_xs w16 h16 mt4 j_tag"> <use xlink:href="#i-<%= icon %>"></use> </svg> <% } %> <% if(chapter.chapterIndex > 0){ %> <i class="_num fl mr16"><%= chapter.chapterIndex %></i> <% } %> <strong class="db oh ell"><%= chapter.chapterName %></strong> </a> <% } %> <% if(bookInfo.hasPrivilege && data.isLastPage){ %> <div class="privileged-bar-wrap privileged-bar-wrap-card"> <div class="privileged-bar pl16 pr16 pb16 pt16 tac"> <p class="c_warning fs16 fw600 lh24 mb8">More Privileged Chapters</p> <p class="c_s lh20 fs14">Download the app and become a a privileged reader today! Come take a sneak peek at our author\'s stockpiled chapters!</p> <span class="bt bt_cap _m _warning j_getApp" title="Download App" href="#getAppMod" data-report-l1="1" data-report-eid="qi_A_downloadapp">Download App</span> </div> </div> <% } %> <% } %> ',{data:r});t.get$scroller().html(i)},jt.prototype.renderPagination=function(){var t=b().render('<% var pagination = data.pagination; %> <% if(pagination.pageNum>1){ %> <div class="m-catalog-pagination j_pagination pa b0 w100% bsbb tac pt24 pl24 pr24"> <div class="m-pagination fs0 br8 wsn pl16 pr16"> <% for(var i=0; i< pagination.pageNum; i++){ %> <%\n        var start = i * pagination.pageSize - pagination.ignore;\n        var end = (i+1) * pagination.pageSize - pagination.ignore;\n        if(start<0){\n          start=0;\n        }\n        if(end > pagination.total){\n          end= pagination.total - pagination.ignore;\n        }\n        var text = start + 1 + \'-\' + end;\n        var className = (i === pagination.currentPage) ? \'_on\':\'\';\n      %> <a data-index="<%= i %>" href="###" class="<%= className %> dib fs16 pt16 pb16 vat tdn lh1 ml8 mr8 td200 pr c_m" title="<%= text %>"> <%= text %> </a> <% } %> </div> </div> <% } %> ',{data:{pagination:this.pagination}}),e=f().trim(t);if(e){var a=f()(".j_catalog_modal"),o=a.find(".j_pagination");o.length&&o.remove(),o=f()(e),a.prepend(o);var n=o.find(".m-pagination"),r=n.find("._on"),i=parseInt(n.width()/2),s=parseInt(r[0].offsetLeft-i);s>0&&n.scrollLeft(s),this.isPaginationFirst=!1}},jt.prototype.getChapters=function(t){for(var e=[],a=0,o=0;o<t.length;o++)for(var n=t[o],r=n.chapterItems||[],i=0;i<r.length;i++){var s=r[i];(0===s.chapterLevel||s.canUnlock)&&(s.volumeInfo={index:n.volumeId,title:"Volume "+(n.volumeId>=0?n.volumeId:"")+(n.volumeName?":"+n.volumeName:"")},s.index<1&&a++,e.push(s))}return{chapters:e,ignoreChapters:a}},jt.prototype.getNewPage=function(t){for(var e=this.data.chapters,a=0,o=0;o<e.length;o++)if(e[o].id===t){a=o;break}return parseInt(a/this.pagination.pageSize)},jt.prototype.loadData=function(){var t=this;t.loading||t.loaded||(t.loading=!0,xt.get({url:"/go/pcm/chapter/get-chapter-list",cache:!1,data:{bookId:g_data.bookId,pageIndex:0},success:function(e){var a=t.getChapters(e.volumeItems||[]),o=a.chapters;t.data={bookInfo:e.bookInfo,chapters:o};var n=t.pagination,r=Math.ceil(o.length/n.pageNumMax);if(r<n.pageSizeMin&&(r=n.pageSizeMin),t.pagination.pageSize=r,t.pagination.total=o.length,t.pagination.pageNum=Math.ceil(o.length/r),t.pagination.ignore=a.ignoreChapters,t.getIsModalShow()){var i=t.getChapterId();t.currentChapterId=i,t.pagination.currentPage=t.getNewPage(i),t.renderPagination(),t.render(),t.scrollIntoView()}e.bookInfo.hasPrivilege&&(f()(".j_privilege_bar_wrap").data("show",1),1==f()(".j_privilege_bar_wrap").data("end")&&f()(".j_privilege_bar_wrap").removeClass("dn"))},complete:function(){t.loading=!1,t.loaded=!0}}))};const Nt=jt;var Lt=a(7677),Ot=a(9507),Dt=a(5362),Mt=a(7091),Bt=a.n(Mt),$t=a(7159),Rt=Bt()($t);const Et='<% var bookList = data.recommendListItems; %> <% if(bookList && bookList.length){ %> <div class="clearfix mb16"> <h3 class="g_h2 fs24 lh32 fw700 pl1 ell fl">You may also Like</h3> <div class="fr pt8"> <a href="/alsolike/list/<%= bookId; %>?type=2" class="lh16 fs16" title="more">More</a> </div> </div> <ul class="clearfix"> <% for(var i = 0, len = Math.min(bookList.length, 6); i < len; i++){ %> <li class="g_col _2"> <% var data = bookList[i]; %> <% data.size = \'sm\'; %> <% data.renderStright = false; %> <%\nvar className;\nswitch(data.size) {\n\tcase \'sm\': className = \'g_thumb _sm\';break;\n\tcase \'bg\': className = \'g_thumb _lg\';break;\n\tcase \'mi\': className = \'g_thumb _xs\';break;\n\tdefault: className = \'g_thumb\';break;\n}\n%> <% if( data.placeholder ) { %> <div class="m-book _ph"> <div class="g_thumb mb8"> <% if(staticConf && staticConf.imgPh ){ %> <img cross-origin="anonymous" src="<%= staticConf.imgPh %>" width="140" height="186" alt="book cover"> <% } else { %> <img cross-origin="anonymous" src="'+Rt+'" width="140" height="186" alt="book cover"> <% } %> </div> <div class="_ph _ph1 mb8"></div> <div class="_ph _ph2 mb8"></div> <div class="_ph _ph3 mb8"></div> </div> <% } else { %> <% var propBookEid = data.bookEid ? \'data-report-eid="\'+ data.bookEid + \'"\':\'\';  %> <% var propCategoryEid = data.categoryEid ? \'data-report-eid="\'+ data.categoryEid + \'"\':\'\';  %> <% var novelType = +data.novelType || 0; %> <div class="m-book"> <a class="m-book-title c_000 db" href="<%= getCommonBookUrl(staticConf.domainPrefix, data, novelType) %>" title="<%= data.bookName %>" <%= propBookEid %> data-report-bid="<%=  data.bookId %> "> <i class="<%= className%> mb8"> <% if( data.renderStright ){ %> <img cross-origin="anonymous" src="<%= getBookImgUrl(staticConf.domainPrefix, data, 140) %>" width="140" height="186" alt="<%= data.bookName %>"> <% } else if(staticConf && staticConf.imgPh ){ %> <img cross-origin="anonymous" src="<%= staticConf.imgPh %>" data-original="<%= getBookImgUrl(staticConf.domainPrefix, data, 140) %>" width="140" height="186" alt="<%= data.bookName %>"> <% } else { %> <img cross-origin="anonymous" src="'+Rt+'" data-original="<%= getBookImgUrl(staticConf.domainPrefix, data, 140) %>" width="140" height="186" alt="<%= data.bookName %>"> <% } %> <% if( novelType === 100 ){ %> <%- getComicTag();%> <% } %> <%- getOriginalTag(data.type)%> <% if( data.rankNum ){ %> <span class="fw700 pa t0 l0 _num _num<%= data.rankNum %>"><%= data.rankNum %></span> <% } %> <% var sameFlag = data.sameFlag; %> <% if( sameFlag && sameFlag != \'category\' ) { %> <span class="pa l0 b0 _flag fs14 ell">Same <%= sameFlag %></span> <% } %> </i> <h3 class="fw700 pl1 fs16 lh20 ells _2"><%= data.bookName %></h3> </a> <% if(data.categoryName) { %> <a href="<%= getCategoryUrl(staticConf.domainPrefix, { categoryId: data.categoryId }, bookTypeToCategoryType(novelType)) %>" class="_type db ell c_s ttc ell" <%= propCategoryEid %> data-report-genreid="<%= data.categoryName%>" title="<%= data.categoryName%>"><%= data.categoryName%></a> <% } %> <% if( typeof data.totalScore !== \'undefined\' && data.totalScore != null ){ %> <div class="g_star_num fs16" title="<%= data.totalScore %>"><%- getStarHtml(data.totalScore) %><% if(data.totalScore){ %><small><%= data.totalScore %></small><% } %></div> <% } %> <% if( data.powerStoneNum ){ %> <strong class="fs14 db"><i class="i_stone _power"></i><%= data.powerStoneNum %></strong> <% } %> </div> <% } %> </li> <% } %> </ul> <% } %> ';var Ut=a(8220),Vt=a(2165),Zt=a.n(Vt),Ht=a(7696),qt=a.n(Ht),Ft=a(1180),Gt=a.n(Ft),zt=a(1940),Wt=a.n(zt),Qt=a(2268),Kt=a.n(Qt),Xt=a(6605),Jt=a.n(Xt),Yt=a(4459),te=a.n(Yt),ee=a(6737),ae=a.n(ee),oe=a(1880),ne=a.n(oe),re=a(295),ie=a.n(re),se=a(99),ce=a.n(se),le=a(4728),de=a.n(le),pe=a(443),he=a.n(pe);function ge(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function ue(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(a),!0).forEach((function(e){(0,o.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var fe={"-1":1,15:1,18:1,20:1,25:1,35:1,30:0,40:0,45:0,50:0};const me=_.Z.inherit({el:"body",events:{"click .theme-set-color input":"setColor","click .theme-set-font input":"setFont","click .theme-set-paragraph-switch input":"setParagraphSwitch","click.update .cha-modal ._close":"closePanel","click.update .cha-fly .j_modal":"updateChapPosition","click .g_bt_add_lib":S.Z,"click .j_retry":"retryGetContent","click .j_unlockChapter":"skipAdByStone","click .j_unlock_fp":"skipAdByStone","mouseenter .stone-drop":"reportOnWhat","click .j_vote_power":"postVotePS"},elements:{},render:function(){return this.setElement(this.el),this.init(),this},init:function(){var t,e=this,o=this;(new ut.Z).getDataAndSetData(),new z,new D,new wt,new B,o.ChapterStore=new H({bookId:g_data.bookId}),g_data.chapInfo&&g_data.chapInfo.chapterInfo&&g_data.chapInfo.chapterInfo.chapterId&&o.ChapterStore.setChapterInfo(g_data.chapInfo.chapterInfo.chapterId,g_data.chapInfo.chapterInfo),this.globalParams={nextChapterId:g_data.nextcId,prevChapterId:g_data.precId,doc$:f()(document),win$:f()(window),chapIdx$:f()(".j_chapIdx"),chapName$:f()(".j_chapName"),curProgress$:f()(".j_progress"),curChap$:f()(".j_curChap"),currChapId:g_data.firstChap.id,currChapIdxInArr:0,chapterLevel:g_data.firstChap.chapterLevel,stillLoadChap:!1,vipAds:[],videoTimer:[],ss:parseInt(f()(".j_ss_stone").data("ss"))},g_data.currChapId=this.globalParams.currChapId,this.adSlotArr={},"undefined"!=typeof adSlot&&(this.adSlotArr["chapter-ad-"+g_data.firstChap.id]=adSlot),this.getChapterInfoAjaxCache=[],this.initPageResize(),-1!=this.globalParams.nextChapterId&&this.getChapterInfo(this.globalParams.nextChapterId,f()(".j_chapterLoading"),(function(t){o.getNextChapterSucc(t)})),-1!=this.globalParams.prevChapterId&&this.getChapterInfo(o.globalParams.prevChapterId,f()(".j_loading_top"),(function(t){o.getPrevChapterSucc(t)})),-1==this.globalParams.prevChapterId&&-1==this.globalParams.nextChapterId||this.initChapterScroll(),-1==this.globalParams.nextChapterId&&f()(".j_privilege_bar_wrap").data("end",1),setTimeout((function(){o.getNewList()}),0),f()(".j_theme_setting")[0].reset(),new E({$box:f()(".theme-set"),$target:f()("html"),$sizeTarget:f()(".j_contentWrap"),upDnOpt:{boxSel:".theme-set-upDown",upSel:"._add",dnSel:"._red"},changeRule:{tc:"_color",tf:"_font",paragraphSwitch:1,ts:function(t,e,a,n){t.$sizeTarget.css("font-size",n+"px"),o.updateChapPosition(a),o.setFontSize(n)}}}),this.forbidCopy(),this.initFirstChapInfo(),this.initRev(),this.ChapterCommentApi=new pt(g_data.bookId,g_data.firstChap),this.loginConfig(),new A({sel:".cha-modal-bd"}),this.setReadingProgress(g_data.bookId,g_data.firstChap.id),0==g_data.login.statusCode&&(t=f()(".g_bt_add_lib"),f().ajax({type:"POST",url:"/go/pcm/library/checkInLibraryAjax",data:{bookId:t.data("bookid"),novelType:t.data("ntype")},success:function(e){if(0===e.code)if(t.attr("disabled",!1),e.data.inLibrary){var a=100==t.data("ntype")?"qi_CC04":"qi_C03";t.addClass("_inLib").attr("data-report-eid",a)}else{var o=100==t.data("ntype")?"qi_CC04":"qi_C02";t.removeClass("_inLib").attr("data-report-eid",o)}}})),this.initKeyboardSupport();var n=+g_data.checkLevel,i=+g_data.actionStatus;n&&n>=15&&!fe[i]&&this.initPowerVote(),this.handleChargeClose(),this.apiCatalog=new Nt({isPreload:""+this.globalParams.nextChapterId=="-1",getChapterId:function(){return o.globalParams.currChapId},onChapterChange:function(t){o.goToChapter(t)}}),o.ParaOperationGroupAPI=new K({bookId:g_data.bookId}),o.ParaOperationGroupAPI.togglePara(+g_data.paragraphSwitch),1==+g_data.paragraphSwitch&&a.e(6224).then(a.bind(a,6224)).then((function(t){var a=t.default;o.ParaCommentAPI=new a(g_data.bookId),o.ParaCommentAPI.setStatus(g_data.paragraphSwitch),o.ParaCommentAPI.initChapterParaComment(e.globalParams.currChapId)})),g_data.isTranslateMode&&Promise.all([a.e(939),a.e(8325)]).then(a.bind(a,6780)).then((function(t){var e=t.default;o.MachineEditAPI=new e,o.ParaOperationGroupAPI.toggleMtl(1==+g_data.isWhiteUser&&1==+g_data.isTranslateMode)})),o.PopTipsAPI=new gt,window.qdReportUtm=this.qdReportUtm=function(t){for(var e=t?t.split("&"):[],a={},o=0;o<e.length;o++){var n=e[o].substring(0,e[o].indexOf("="));if(-1!=n.indexOf("utm")){var r=e[o].substring(e[o].indexOf("=")+1);a[n]=r}}return a}(r().get("QDReport_utm")),this.scrolledChapters=0,this.initGift();try{(0,Ot.Fj)((function(){fbq("track","ViewContent",{value:0,currency:"USD",content_ids:[g_data.bookId],content_type:"product"})})),(0,Ot.hL)((function(){ga("send",{hitType:"event",eventCategory:"Read Novel",eventAction:"Click",eventLabel:"Read Novel"})}))}catch(t){}try{"facebook"!==this.qdReportUtm.utm_source&&"google"!==this.qdReportUtm.utm_source||setTimeout((function(){g.Z.send({target:null},{ltype:"A",eid:"qi_A_readChapters",extend:JSON.stringify({chapters:1})},!0)}),1e3)}catch(t){}new Lt.Z,g.Z.send({target:null},{ltype:"P",l1:1,eid:"qi_P_reader",pdt:"reader",pdid:g_data.bookId,blocktitle:g_data.currChapId}),document.addEventListener("visibilitychange",d),window.addEventListener("beforeunload",p),h({bookType:0,bookId:g_data.bookId,chapterId:g_data.currChapId})},handleChargeClose:function(){f()(document).on("click",".chargeForm .j_close, .chargeForm .j_confirmBtDefault, .chargeForm .j_confirmBtGhost",(function(){location.reload()}))},initPowerVote:function(){var t=this;this.initPowerVoteModal();var e=f()(".j_power_rank_wrap"),a=f()("#powerVoteModal");this.powerStoneApi=new x.Z({$powerRankWrap:e,bookId:g_data.bookId,bookName:g_data.bookName,novelType:0,getRankInfoSucc:function(o){if(o.data){var n={powerRankInfo:o.data,staticConf:{domainPrefix:g_data.env,staticPath:g_data.staticPath},data:{user:g_data.login.user},bookId:g_data.bookId,bookType:+g_data.bookType,bookName:g_data.bookName,chapterId:t.globalParams.currChapId};e.html(b().render(Dt.Z,n)),a.html(b().render('<%\nvar srcRank="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEX////1Mmb2MWX2N231MWX1MWX/////wtL8nbf+9vj+vM38mLS/meY4AAAABXRSTlMB5qYc7ekm068AAABrSURBVDjLYyADMCuGYgAhA6CESSgW4AyUUMUmEQSUEMUmEQiUCMUKqC8xLQ0JZCJJpKEAKkoQtBwD0FlieTkUVKFJlMMBbSQwLR8sQbKjAwi6sUh0gAHtJBCW09vnODMnzuyMswDAXWSQDgDUBFQyX50DMwAAAABJRU5ErkJggg==";\nvar srcStone="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAWlBMVEU8ZvX1+P9vj/vC0P8/afVoi/o/aPU+a/pFbv9LeP9Gb/Y8ZvU8Z/U8aPddgvg7ZvVRePe5yv+uwf+Kpv2asv59mvxYfPh3lflaffZMc/mkuP5nifmXrftfg/fPnuCZAAAAHnRSTlPmAebm5uZkQSUR5tbChOal5ubm5ubm5t2viubLy8rr6OWiAAABEElEQVRIx+2Wy7KCMBBE+5LwVCPi4/r8/99UI+U4aRxw4c7ewilOV5GZ4G841XlfDT4YBuqFd259qKcCxQxwzq3+i0lAOQcAd093KkeBaokY98gmrQKShwKoCkheA1QFJK8BqgIlzwBVgZJngKqA5GOasF4lRF8FIi/xu+yWjUvSXcoeSGzaPIvZHpNvBN8D2ia+3iPda4sGYMCHTOVZpQuAANpGIlW2HgpgG+V1bIEhIHsX4DMAP+AHfAuwf++8IcA6QHkLyYQjGjwMQLzERscaM2Ij8eYg23kkmZfGqAypDWaFOYzJZlHzuDeyrMyFwvL2ymJ5eymyvL12SX58sZP8+NWB5McvJ1qeAa4S5TlXHPcQ906aF1YAAAAASUVORK5CYII=";\n%> <% if(typeof powerRankInfo != \'undefined\' && powerRankInfo){ %> <div class="g_mod _small" data-report-l1="13"> <a href="###" class="_close" title="close"><svg><use xlink:href="#i-times"></use></svg></a> <div class="g_mod_hd">Vote with Power Stone</div> <div class="g_mod_bd tac"> <div class="_pr dib vam fs0 mr24"> <img cross-origin="anonymous" width="24" height="24" class="db mb8 mla mra vam w24 h24" src="<%= srcRank %>" alt="Rank"> <strong class="db vam fs32 lh32 fw700"> <% if(powerRankInfo.rank != undefined && powerRankInfo.rank > 0){ %> <%= powerRankInfo.rank < 200 ? "NO."+powerRankInfo.rank :"200+" %> <% }else{ %> N/A <% } %> </strong> <small class="db vam fs14 lh24 c_s">Power Ranking</small> </div> <div class="_ps dib vam fs0"> <img cross-origin="anonymous" width="24" height="24" class="div mb8 mla mra vam w24 h24" src="<%= srcStone %>" alt="Stone"> <strong class="db vam fs32 lh32 fw700 j_total_power" data-total="<%= powerRankInfo.powerNums || 0%>"><%= typeof powerRankInfo.powerNums != \'undefined\' && powerRankInfo.powerNums != null ? (powerRankInfo.powerNums).toLocaleString(): \'--\'%></strong> <small class="db vam fs14 lh24 c_s">Power Stone</small> </div> </div> <div class="g_mod_ft"> <div class="j_power_btn_area"> <% var showLoginBtn = \'\'; %> <% var showVoteBtn = \'\'; %> <% var showDisVoteBtn = \'\'; %> <% var eid = \'\'; %> <% if(typeof data != \'undefined\' && data.user && data.user.status == 0){ %> <% if(data.user && data.user.PS == 0){ %> <% showDisVoteBtn = \'_on\'; %> <% eid = \'qi_J25\'; %> <% }else{ %> <% showVoteBtn = \'_on\'; %> <% showDisVoteBtn = \'\'; %> <% eid = \'qi_C10\'; %> <% } %> <% }else{ %> <% eid = \'qi_C10\'; %> <% showLoginBtn = \'_on\'; %> <% } %>  <% if(typeof isRankVote !== \'undefined\' && isRankVote){ %> <a href="###" title="Vote Power Stone" class="bt _warning _vote j_vote_power <%= showVoteBtn; %>" data-bookid="<%= bookId; %>" data-bookname="<%= bookName; %>" <%= typeof novelType !== \'undefined\' ? \'data-novelType=\' + novelType : \'\'; %> data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>"> <strong>Vote Power Stone (<small class="j_ps_num"><%= data.user.PS; %></small>)</strong> </a> <% }else{ %> <a href="###" title="Vote Power Stone" class="bt _warning _2row _vote j_vote_power <%= showVoteBtn; %>" data-bookid="<%= bookId; %>" data-bookname="<%= bookName; %>" <%= typeof novelType !== \'undefined\' ? \'data-novelType=\' + novelType : \'\'; %> data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>"> <strong>Vote</strong> <small class="j_ps_num">(<%= data.user.PS; %> stone <% if(data.user.PS > 1){ %>s <% } %> left)</small> </a> <% } %>  <% if(typeof isRankVote !== \'undefined\' && isRankVote){ %> <a href="###" title="Vote Power Stone" class="bt _warning _2row _dis_vote <%= showDisVoteBtn; %>" disabled="disabled" data-bookid="<%= bookId; %>" data-bookname="<%= bookName; %>" <%= typeof novelType !== \'undefined\' ? \'data-novelType=\' + novelType : \'\'; %> data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>"> <strong>Vote Power Stone (0)</strong> </a> <% }else{ %> <a href="###" title="Vote Power Stone" class="bt _warning _2row _dis_vote <%= showDisVoteBtn; %>" disabled="disabled" data-bookid="<%= bookId; %>" data-bookname="<%= bookName; %>" <%= typeof novelType !== \'undefined\' ? \'data-novelType=\' + novelType : \'\'; %> data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>"> <strong>Vote</strong> <small class="j_ps_num">(0 stone left)</small> </a> <% } %> <a href="###" title="Vote Power Stone" class="bt _login _warning j_login <%= showLoginBtn; %>" data-report-cid="<%= typeof chapterId != \'undefined\' ? chapterId : \'\'; %>" data-report-eid="<%= eid; %>" data-report-bid="<%= bookId; %>"> <strong> Vote </strong> </a> </div> <div class="tac fs16 lh24 mt16"> <a href="/ranking/powervote/<%= bookId%>" title="See Who Voted">See Who Voted</a> </div> </div> </div> <% }else{ %> <div class="g_mod _small"> <a href="###" class="_close" title="close"><svg><use xlink:href="#i-times"></use></svg></a> <div class="g_mod_hd">Vote with Power Stone</div> <div class="g_mod_bd tac"> <div class="_pr dib vam fs0 mr24"> <img cross-origin="anonymous" width="24" height="24" class="db mb8 mla mra vam w24 h24" src="<%= srcRank %>" alt="Rank"> <strong class="db vam fs32 lh32 fw700">NO.--</strong> <small class="db vam fs14 lh24 c_s">Power Ranking</small> </div> <div class="_ps dib vam fs0"> <img cross-origin="anonymous" width="24" height="24" class="div mb8 mla mra vam w24 h24" src="<%= srcStone %>" alt="Stone"> <strong class="db vam fs32 lh32 fw700">--</strong> <small class="db vam fs14 lh24 c_s">Power Stone</small> </div> </div> <div class="g_mod_ft"> <a href="###" class="bt _warning _block" title="Vote with power stone"> <strong>Vote</strong> </a> <div class="tac fs16 lh24 mt16"> <a href="/ranking/powervote/<%= bookId%>" title="See Who Voted">See Who Voted</a> </div> </div> </div> <% } %> ',n))}}}),this.powerStoneApi.getRankInfo()},initGift:function(){var t=this;new Ut.Z({selTrigger:".j_btn_gift",importApi:function(){return a.e(9306).then(a.bind(a,9306))},returnInstance:function(t){return new t({bookId:g_data.bookId,novelType:0})}}),-1!=+g_data.giftNum&&-1==t.globalParams.nextChapterId&&(a.e(4353).then(a.bind(a,4353)).then((function(e){var a=e.default;t.giftBarApi=new a({bookId:g_data.bookId,novelType:0})})),a.e(7734).then(a.bind(a,7734)).then((function(t){new(0,t.default)})))},initPowerVoteModal:function(){var t=this;t._powerModApi=!1,f()(document).on("click",".j_trigger_power_modal",(function(e){e.preventDefault(),t.$powerVoteTrigger=f()(this),t._powerModApi?t._powerModApi.load():t._powerModApi=f()("#powerVoteModal").overlay({load:!0}).data("overlay")}))},initKeyboardSupport:function(){var t=this;j().bind("right",(function(){var e,a=0;f()(".chapter_content").each((function(e,o){f()(o).hasClass("j_chapter_"+t.globalParams.currChapId)&&(a=e)})),t.chapInfoArr[a]&&(e=t.chapInfoArr[a].nextId,t.switchChapter(e))})),j().bind("left",(function(){var e,a=0;f()(".chapter_content").each((function(e,o){f()(o).hasClass("j_chapter_"+t.globalParams.currChapId)&&(a=e)})),t.chapInfoArr[a]&&(e=t.chapInfoArr[a].prevId,t.switchChapter(e))}))},switchChapter:function(t){var e,a,o=this;if(t&&-1!=t){(e=this.chapInfoArr.filter((function(e){return e.id==t})))&&e.length?(a=e[0].name+"",f()(window).scrollTop(e[0].start||0)):(f()(".j_loading_top").addClass("_loading"),this.clearAliveChapterAjax(),this.getChapterInfo(t,f()(".j_loading_top"),(function(t){o.renderNewChapter(t)})));var n=bt()(null,g_data.bookId,t,g_data.bookName,a,Zt().NOVEL);history.replaceState?history.replaceState(null,null,n):location.href=n}},initgdata:function(){var t=g_data.chapInfo.chapterInfo,e=g_data.chapInfo.bookInfo;g_data.nextcId=t.nextChapterId,g_data.firstChapterIndex=t.firstChapterIndex,g_data.precId=t.preChapterId,g_data.bookId=e.bookId,g_data.bookName=e.bookName,g_data.tChapCnt=e.totalChapterNum,g_data.firstChap={id:t.chapterId,idx:t.chapterIndex,name:t.chapterName,comNum:t.reviewTotal,vip:t.isVip,auth:t.isAuth,chapterLevel:t.chapterLevel},g_data.adId=e.adId,g_data.bookInfo=e},loginConfig:function(){var t=this,e=f()(document),o=e.data("ApiLogin");o.success=function(e){a.e(3868).then(a.bind(a,1873)).then((function(a){(0,a.default)(e,(function(){t.loginSuccess()}))}))},o.autoSuccess=function(){t.loginSuccess()},e.data("ApiLogin",o)},loginSuccess:function(){location.reload()},checkAuthAfterLogin:function(t){var e=f()(".j_lock_chap_"+t);e.length&&e.find(".cha-content").hasClass("_lock")&&this.getAuthContent(e,t)},getAuthContent:function(t,e){var a=this;this.getChapterInfo(e,f()(".j_loading_top"),(function(e){0===e.code&&e.data.chapterInfo.isAuth&&(t.find(".j_locked_chap").addClass("_loading"),setTimeout((function(){a.replaceAuthChapter(e.data.chapterInfo.chapterId,{contents:e.data.chapterInfo.contents,isRichFormat:e.data.chapterInfo.isRichFormat,isTranslateMode:g_data.isTranslateMode})}),500))}),(function(){t.find(".j_locked_chap").addClass("_loading"),setTimeout((function(){t.find(".j_locked_chap").removeClass("_loading").addClass("_failed")}),500),t.find(".j_retry_auth_content").removeClass("j_retry_auth_content").addClass("j_retry_auth_content_stone"),t.find(".j_retry_auth_content_stone").on("click",(function(){a.getAuthContent(t,e)}))}))},initFirstChapInfo:function(){g_data.firstChap.start=0,g_data.firstChap.end=this.globalParams.doc$.height(),this.chapInfoArr=[],this.recordChapInfo(g_data.firstChap)},initRev:function(){var t=this;new Ut.Z({selTrigger:".j_review",importApi:function(){return Promise.all([a.e(8256),a.e(6594)]).then(a.bind(a,402))},returnInstance:function(e){return new e({modalSel:"#reviewModal",onBeforeShow:function(){f()("#reviewModal #j_read_status").html("Reading Status: C"+t.globalParams.chapIdx)},revSuccess:function(t,e){e.addClass("_success")[0].reset()},onClose:function(t){t.getOverlay().removeClass("_success")}})},onBeforeTrigger:function(){if(0!=g_data.login.statusCode)return f()(document).data("ApiLogin").showLogin(),!1},onTrigger:function(t){t.showReviewModal()}})},resetTheme:function(){if(r().get("tc")){switch(r().get("tc")){case"_color1":f()("._default").find("input").prop("checked",!0);break;case"_color2":f()("._yellow").find("input").prop("checked",!0);break;case"_color3":f()("._dark").find("input").prop("checked",!0)}f()("html").addClass(r().get("tc"))}if(r().get("tf")){switch(r().get("tf")){case"_font1":f()("._ari").find("input").prop("checked",!0);break;case"_font2":f()("._mer").find("input").prop("checked",!0)}f()("html").addClass(r().get("tf"))}r().get("ts")&&(f()("#j_size").val(r().get("ts")),f()(".j_contentWrap").css("font-size",r().get("ts")+"px"))},setColor:function(t){var e=f()(t.currentTarget);r().set("tc",e.val(),".webnovel.com","/",31536e6),this.setSettingOnServer()},setFont:function(t){var e=f()(t.currentTarget);r().set("tf",e.val(),".webnovel.com","/",31536e6),this.setSettingOnServer()},setFontSize:function(t){r().set("ts",t,".webnovel.com","/",31536e6),this.setSettingOnServer()},setParagraphSwitch:function(t){var e=this,o=t.currentTarget.checked?1:0;e.ParaCommentAPI?(e.ParaCommentAPI.setStatus(o),e.ParaCommentAPI.initChapterParaComment(e.globalParams.currChapId),e.ParaOperationGroupAPI.togglePara(o)):a.e(6224).then(a.bind(a,6224)).then((function(t){var a=t.default;e.ParaCommentAPI=new a(g_data.bookId),e.ParaCommentAPI.setStatus(o),e.ParaCommentAPI.initChapterParaComment(e.globalParams.currChapId),e.ParaOperationGroupAPI.togglePara(o)})),r().set("paragraphSwitch",o,".webnovel.com","/",31536e6),this.setSettingOnServer()},setSettingOnServer:function(){if(0==g_data.login.statusCode){var t=f()(".j_theme_setting"),e=C.Z.getFormParams(t.serializeArray());void 0===e.paragraphSwitch&&(e.paragraphSwitch=0),f().ajax({method:"POST",url:"/go/pcm/book/setReadingSettings",data:e,success:function(t){}})}},closePanel:function(){this.updateChapPosition()},getNewList:function(){var t=f()(".j_update_list");f().ajax({type:"GET",url:"/go/pcm/recommend/getRecommendList",cache:!1,data:{type:2,bookId:g_data.bookId},success:function(e){0===e.code&&(t.html(b().render(Et,ue(ue({},e),{},{env:g_data.env,staticConf:{staticPath:g_data.staticPath,domainPrefix:g_data.env,imgPh:a(7159)},renderStright:!1,bookId:g_data.bookId,userId:g_data.login.user.userId,getCommonBookUrl:Wt(),getBookImgUrl:Kt(),getComicTag:Jt(),getOriginalTag:te(),getCategoryUrl:ae(),bookTypeToCategoryType:ne(),getStarHtml:ie()}))),q())}})},addNextChapter:function(){var t,e,o=f()(".j_contentWrap"),n=f()(".j_bottom"),r=this,i=f()(".chapter_content:last");t=i.length?i.offset().top+i.height():0,o.append(this.globalParams.chapTpl),f()(".j_fp_stone").html(g_data.login.user.fastPass),this.globalParams.chapBotTpl&&(n.append(this.globalParams.chapBotTpl),this.globalParams.chapBotTpl=null,f()(".j_chapter_end").removeClass("dn"),-1==+g_data.giftNum||r.giftBarApi||(a.e(4353).then(a.bind(a,4353)).then((function(t){var e=t.default;r.giftBarApi=new e({bookId:g_data.bookId,novelType:0})})),a.e(7734).then(a.bind(a,7734)).then((function(t){new(0,t.default)}))),q(),f()(".gift-bar-in-chapter .j_btn_gift").attr("data-report-cid",this.globalParams.chapId).attr("data-cid",this.globalParams.chapId)),e=(i=f()(".chapter_content:last")).offset().top+i.height(),this.recordChapInfo({id:this.globalParams.chapId,name:this.globalParams.chapName,idx:this.globalParams.chapIdx,order:this.globalParams.chapOrderIdx,comNum:this.globalParams.comNum,auth:this.globalParams.auth,vip:this.globalParams.vip,start:t,end:e,nextId:this.globalParams.currNextId,prevId:this.globalParams.currPrevId,chapterLevel:this.globalParams.chapterLevel}),this.globalParams.lastChapId=this.globalParams.chapId;var s=this.getChapterAdId(102);s&&this.addAdvertise("chapter-ad-"+this.globalParams.chapId,s,[728,90])},clearAliveChapterAjax:function(){for(var t=this.getChapterInfoAjaxCache.length,e=0;e<t;e++)try{4!==this.getChapterInfoAjaxCache[e].readyState&&this.getChapterInfoAjaxCache[e].abort()}catch(t){}this.getChapterInfoAjaxCache=[]},getChapterInfo:function(t,e,a,o){if(!(t<=0)){var n=this;n.globalParams.stillLoadChap=!0;var r=f().ajax({method:"GET",url:"/go/pcm/chapter/getContent",cache:!1,data:{bookId:g_data.bookId,chapterId:t},success:function(t){0===t.code?(n.globalParams.stillLoadChap=!1,e.removeClass("_loading"),t.data&&t.data.chapterInfo&&-1==t.data.chapterInfo.nextChapterId&&g.Z.send({target:null},{eid:"qi_D22"},!0),g_data.membershipStatus=t.data.membershipStatus,g_data.waitpayStatus=t.data.waitpayStatus,t.data.chapterInfo&&t.data.chapterInfo.chapterId&&n.ChapterStore.setChapterInfo(t.data.chapterInfo.chapterId,t.data.chapterInfo),a(t)):"function"==typeof o?o(t):e.removeClass("_loading").addClass("_failed")},error:function(t){console.log("error",t),e.removeClass("_loading").addClass("_failed")}});n.getChapterInfoAjaxCache.push(r)}},retryGetContent:function(t){var e=f()(t.currentTarget),a=this;e.parents(".j_chapterLoading").removeClass("_failed"),this.getChapterInfo(this.globalParams.nextChapterId,f()(".j_chapterLoading"),(function(t){a.getNextChapterSucc(t)}))},getNextChapterSucc:function(t){this.globalParams.chapId=t.data.chapterInfo.chapterId,this.globalParams.chapName=t.data.chapterInfo.chapterName,this.globalParams.chapIdx=t.data.chapterInfo.chapterIndex,this.globalParams.chapOrderIdx=t.data.chapterInfo.orderIndex,this.globalParams.comNum=t.data.chapterInfo.reviewTotal,this.globalParams.auth=t.data.chapterInfo.isAuth,this.globalParams.vip=t.data.chapterInfo.isVip,this.globalParams.lastChapId=null,this.globalParams.currNextId=t.data.chapterInfo.nextChapterId,this.globalParams.currPrevId=t.data.chapterInfo.preChapterId,this.globalParams.actionStatus=t.data.bookInfo.actionStatus,this.globalParams.nextChapterId=t.data.chapterInfo.nextChapterId,this.globalParams.chapterLevel=t.data.chapterInfo.chapterLevel,this.globalParams.chapTpl=b().render("#chapter-content.html",ue(ue({},t.data),{},{isOriginal:g_data.isOriginal,staticPath:g_data.staticPath,env:g_data.env,statusCode:g_data.login.statusCode,showTopSplit:!0,showBottomSplit:!1,adId:this.getChapterAdId(102),isTranslateMode:g_data.isTranslateMode,isWhiteUser:g_data.isWhiteUser,data:{statusCode:g_data.login.statusCode,user:g_data.login.user,membershipStatus:g_data.membershipStatus,waitpayStatus:g_data.waitpayStatus},getBookImgUrl:Kt(),getOriginalTag:te(),getUserHomeUrl:rt(),getTranslatorStr:ce(),getUserAvatar:lt(),getUserName:st(),getSplitContent:de(),htmlEncode:he(),toLocalTime:w()})),-1==this.globalParams.nextChapterId&&(this.globalParams.chapBotTpl=b().render("#content-bottom.html",f().extend(t.data,{env:g_data.env,staticPath:g_data.staticPath,statusCode:g_data.login.statusCode})),this.addNextChapter()),f()(window).trigger("scroll")},getPrevChapterSucc:function(t){this.globalParams.pChapId=t.data.chapterInfo.chapterId,this.globalParams.pChapName=t.data.chapterInfo.chapterName,this.globalParams.pChapIdx=t.data.chapterInfo.chapterIndex,this.globalParams.pChapOrderIdex=t.data.chapterInfo.orderIndex,this.globalParams.pComNum=t.data.chapterInfo.reviewTotal,this.globalParams.pAuth=t.data.chapterInfo.isAuth,this.globalParams.pVip=t.data.chapterInfo.isVip,this.globalParams.pLastChapId=null,this.globalParams.pCurrNextId=t.data.chapterInfo.nextChapterId,this.globalParams.pCurrPrevId=t.data.chapterInfo.preChapterId,this.globalParams.prevChapterId=t.data.chapterInfo.preChapterId,this.globalParams.prevChapTpl=b().render("#chapter-content.html",ue(ue({},t.data),{},{isOriginal:g_data.isOriginal,staticPath:g_data.staticPath,env:g_data.env,statusCode:g_data.login.statusCode,showTopSplit:!1,showBottomSplit:!0,adId:this.getChapterAdId(102),isTranslateMode:g_data.isTranslateMode,isWhiteUser:g_data.isWhiteUser,data:{statusCode:g_data.login.statusCode,user:g_data.login.user,membershipStatus:g_data.membershipStatus,waitpayStatus:g_data.waitpayStatus},getBookImgUrl:Kt(),getOriginalTag:te(),getUserHomeUrl:rt(),getTranslatorStr:ce(),getUserAvatar:lt(),getUserName:st(),getSplitContent:de(),htmlEncode:he(),toLocalTime:w()}))},addPrevChapter:function(){var t,e,a=f()(".j_contentWrap"),o=f()(window),n=o.scrollTop(),r=f()(".chapter_content:last");t=r.offset().top+r.height(),a.prepend(this.globalParams.prevChapTpl),this.globalParams.prevChapTpl=null,e=(r=f()(".chapter_content:last")).offset().top+r.height(),o.scrollTop(n+e-t),this.recordChapInfo({id:this.globalParams.pChapId,name:this.globalParams.pChapName,idx:this.globalParams.pChapIdx,order:this.globalParams.pChapOrderIdex,comNum:this.globalParams.pComNum,auth:this.globalParams.pAuth,vip:this.globalParams.pVip,start:0,end:e-t,nextId:this.globalParams.pCurrNextId,prevId:this.globalParams.pCurrPrevId,chapterLevel:this.globalParams.chapterLevel},!0),this.updateChapPosition(),this.globalParams.pLastChapId=this.globalParams.pChapId;var i=this.getChapterAdId(102);i&&this.addAdvertise("chapter-ad-"+this.globalParams.pChapId,i,[728,90]),this.PopTipsAPI.refresh()},initPageResize:function(){var t=this;f()(window).on("resize",(0,m.Z)((function(e){t.updateChapPosition()}),100,100))},isInitChapterScroll:!1,initChapterScroll:function(){var t=this;t.isInitChapterScroll||(t.isInitChapterScroll=!0,new U.Z({supportScrollPrev:!0,mustDoneOnScroll:function(){t.updateWhenScroll(t.globalParams.win$.scrollTop()+t.globalParams.win$.height()/2.5)},onLoadingNext:function(){-1!=t.globalParams.nextChapterId&&(t.globalParams.stillLoadChap?f()(".j_chapterLoading").addClass("_loading"):t.globalParams.lastChapId!=t.globalParams.chapId?(t.addNextChapter(),t.getChapterInfo(t.globalParams.nextChapterId,f()(".j_chapterLoading"),(function(e){a.e(7734).then(a.bind(a,7734)).then((function(t){new(0,t.default)})),t.getNextChapterSucc(e)}))):console.log("loading the same next chapter.."))},onLoadingPrev:function(){-1!=t.globalParams.prevChapterId?t.globalParams.stillLoadChap?f()(".j_loading_top").addClass("_loading"):t.globalParams.pLastChapId!=t.globalParams.pChapId&&(t.addPrevChapter(),t.getChapterInfo(t.globalParams.prevChapterId,f()(".j_loading_top"),(function(e){a.e(7734).then(a.bind(a,7734)).then((function(t){new(0,t.default)})),t.getPrevChapterSucc(e)}))):t.globalParams.prevChapTpl&&t.addPrevChapter()}}))},recordChapInfo:function(t,e){this.chapInfoArr&&this.chapInfoArr.length||(this.chapInfoArr=[]),e?this.chapInfoArr.unshift(t):this.chapInfoArr.push(t)},forbidCopy:function(){f()(".cha-page").on("copy contextmenu",(function(){return!1}))},updateWhenScroll:function(t){for(var e=this,a=0;a<this.chapInfoArr.length;a++)if(this.chapInfoArr[a].start<=t&&t<=this.chapInfoArr[a].end){if(this.chapInfoArr[a].id==this.globalParams.currChapId)break;"local"!=g_data.env&&this.updateCurrUrl(this.chapInfoArr[a].id,this.chapInfoArr[a].name),setTimeout((function(){g.Z.send({target:null},{ltype:"A",eid:"qi_R99",bid:g_data.bookId,cid:e.chapInfoArr[a].id},!0)}),200),this.updateLockChapContent(this.chapInfoArr[a].id,a),this.updateHeaderInfo(a),this.apiCatalog&&"function"==typeof this.apiCatalog.changeCurrentId&&this.apiCatalog.changeCurrentId(this.chapInfoArr[a].id),this.setReadingProgress(g_data.bookId,this.chapInfoArr[a].id),this.globalParams.currChapId=this.chapInfoArr[a].id,this.globalParams.currChapIdxInArr=a,g_data.currChapId=this.globalParams.currChapId,g.Z.send({target:null},{ltype:"P",l1:1,eid:"qi_P_reader",pdt:"reader",pdid:g_data.bookId,blocktitle:g_data.currChapId}),h({bookType:0,bookId:g_data.bookId,chapterId:g_data.currChapId}),this.ParaCommentAPI&&this.ParaCommentAPI.initChapterParaComment(this.globalParams.currChapId),this.ChapterCommentApi.checkoutCommentByChapterId(this.globalParams.currChapId,this.chapInfoArr[a]);try{googletag&&googletag.cmd&&e.adsControlWhenScroll("chapter-ad-"+e.globalParams.currChapId)}catch(t){console.error(t.toString())}if(3===this.chapInfoArr.length)try{"facebook"===this.qdReportUtm.utm_source&&(0,Ot.Fj)((function(){fbq("track","StartTrial")})),(0,Ot.hL)((function(){ga("send",{hitType:"event",eventCategory:"Read 3 Chapters",eventAction:"Click",eventLabel:"Read 3 Chapters"})}))}catch(t){}try{"facebook"!==this.qdReportUtm.utm_source&&"google"!==this.qdReportUtm.utm_source||setTimeout((function(){g.Z.send({target:null},{ltype:"A",eid:"qi_A_readChapters",extend:JSON.stringify({chapters:e.chapInfoArr.length})},!0)}),1e3)}catch(t){}break}},updateCurrUrl:function(t,e){var a;history.replaceState&&(a=bt()(null,g_data.bookId,t,g_data.bookName,e,Zt().NOVEL),history.replaceState(null,null,a))},updateLockChapContent:function(t,e){var a=this,o=f()(".j_lock_chap_"+t);o.length&&o.find(".cha-content").hasClass("_lock")?this.chapInfoArr[e].auth=0:this.chapInfoArr[e].auth=1,0!=this.chapInfoArr[e].vip&&0==this.chapInfoArr[e].auth&&(g.Z.send({target:null},{ltype:"H",pid:"qi_p_AD",bid:g_data.bookId,cid:this.globalParams.currChapId},{}),0==g_data.login.statusCode&&f().ajax({method:"GET",url:"/go/pcm/chapter/getContent",cache:!1,data:{bookId:g_data.bookId,chapterId:a.chapInfoArr[e].id},success:function(t){0!==t.code||!t.data.chapterInfo.isAuth&&0!=t.data.chapterInfo.price||(t.data.chapterInfo&&t.data.chapterInfo.chapterId&&a.ChapterStore.setChapterInfo(t.data.chapterInfo.chapterId,t.data.chapterInfo),o.find(".j_locked_chap").addClass("_loading"),setTimeout((function(){a.replaceAuthChapter(t.data.chapterInfo.chapterId,{contents:t.data.chapterInfo.contents,isRichFormat:t.data.chapterInfo.isRichFormat})}),500))}}))},updateHeaderInfo:function(t){0==this.chapInfoArr[t].chapterLevel&&(this.chapInfoArr[t].idx>=0?this.globalParams.chapIdx$.html("Chapter "+this.chapInfoArr[t].idx+":"):this.globalParams.chapIdx$.html(""),this.globalParams.curProgress$.html(Math.floor(this.chapInfoArr[t].order/g_data.tChapCnt*1e4)/100+"%"),this.globalParams.chapName$.html(this.chapInfoArr[t].name))},setReadingProgress:function(t,e){if(0==g_data.login.statusCode){var a=this.chapInfoArr.filter((function(t){return t.id==e})),o=0;if(a&&a.length&&(o=a[0].chapterLevel),0!=+o)return;f().ajax({type:"POST",url:"/go/pcm/library/setReadingProgressAjax",data:{bookId:t,chapterId:e},success:function(t){}})}},updateCommentsReport:function(t){f()(".cha-fly").find(".j_comments").data("cid",t)},goPrevChap:function(){this.globalParams.win$.scrollTop()},updateChapPosition:function(t){var e=f()(".j_splitLine"),a=this;0!=e.length?(f().each(e,(function(t,o){a.chapInfoArr[t].end=f()(o).offset().top,t+1==e.length&&(a.chapInfoArr[t+1].end=a.globalParams.doc$.height()),a.chapInfoArr[t+1].start=a.chapInfoArr[t].end})),f()(window).trigger("scroll")):a.chapInfoArr[0].end=a.globalParams.doc$.height()},getChapterAdId:function(t){var e="",a=f()("#chapterAds").val();try{a&&(a=JSON.parse(a),e=qt()(a,t))}catch(t){console.log(t.toString())}return e},addAdvertise:function(t,e,a){var o=this;o.adSlotArr=o.adSlotArr||[],e=e||o.getChapterAdId(102),a=a||[728,90];try{googletag&&googletag.cmd&&f()("#"+t).length&&googletag.cmd.push((function(){if(!o.adSlotArr[t]){var n=googletag.defineSlot(e,a,t);n&&(o.adSlotArr[t]=n,n.addService(googletag.pubads()),googletag.cmd.push((function(){googletag.display(t)})))}}))}catch(t){console.error(t.toString())}},adsControlWhenScroll:function(t){var e,a,o=this,n=f()(".j_ads"),r=[],i=0;n.each((function(a,o){(e=f()(o).attr("id"))===t&&(i=a),r.push(e)}));var s=[];if(r.length>0){for(var c=0;c<r.length;c++)a=o.adSlotArr[r[c]],c>i+1||c<i-1?(s.push(a),delete o.adSlotArr[r[c]]):o.addAdvertise(r[c]);s.length&&googletag.destroySlots(s)}},goToChapter:function(t){var e=this,a=t.chapterId,o=t.chapterName,n=bt()(null,g_data.bookId,a,g_data.bookName,o,Zt().NOVEL);if(history.replaceState){history.replaceState(null,null,n);for(var r=this.chapInfoArr.length,i=0;i<r&&a!=this.chapInfoArr[i].id;i++);i==r?(f()(".j_loading_top").addClass("_loading"),f()(".j_chapter_end").addClass("dn"),this.clearAliveChapterAjax(),this.getChapterInfo(a,f()(".j_loading_top"),(function(t){e.renderNewChapter(t)}))):f()(window).scrollTop(this.chapInfoArr[i].start)}else location.href=n},renderNewChapter:function(t){var e=this,a=f()(".j_contentWrap"),o=f()(".j_bottom");a.html(""),o.html(""),this.globalParams.nextChapterId=t.data.chapterInfo.nextChapterId,this.globalParams.prevChapterId=t.data.chapterInfo.preChapterId,this.globalParams.chapId=t.data.chapterInfo.chapterId,this.globalParams.chapName=t.data.chapterInfo.chapterName,this.globalParams.chapIdx=t.data.chapterInfo.chapterIndex,this.globalParams.chapOrderIdx=t.data.chapterInfo.orderIndex,this.globalParams.comNum=t.data.chapterInfo.reviewTotal,this.globalParams.currNextId=t.data.chapterInfo.nextChapterId,this.globalParams.currPrevId=t.data.chapterInfo.preChapterId,this.globalParams.chapterLevel=t.data.chapterInfo.chapterLevel,this.globalParams.chapTpl=b().render("#chapter-content.html",ue(ue({},t.data),{},{isOriginal:g_data.isOriginal,staticPath:g_data.staticPath,env:g_data.env,statusCode:g_data.login.statusCode,showTopSplit:!1,showBottomSplit:!1,adId:e.getChapterAdId(102),isTranslateMode:g_data.isTranslateMode,isWhiteUser:g_data.isWhiteUser,data:{statusCode:g_data.login.statusCode,user:g_data.login.user,membershipStatus:g_data.membershipStatus,waitpayStatus:g_data.waitpayStatus},getBookImgUrl:Kt(),getOriginalTag:te(),getUserHomeUrl:rt(),getTranslatorStr:ce(),getUserAvatar:lt(),getUserName:st(),getSplitContent:de(),htmlEncode:he(),toLocalTime:w()})),-1==this.globalParams.nextChapterId?this.globalParams.chapBotTpl=b().render("#content-bottom.html",f().extend(t.data,{env:g_data.env,staticPath:g_data.staticPath,statusCode:g_data.login.statusCode})):f()(".j_chapter_end").addClass("dn"),this.chapInfoArr=[],this.addNextChapter(),f()(window).scrollTop(0),-1!=this.globalParams.nextChapterId&&this.getChapterInfo(this.globalParams.nextChapterId,f()(".j_chapterLoading"),(function(t){e.getNextChapterSucc(t)})),-1!=this.globalParams.prevChapterId?this.getChapterInfo(this.globalParams.prevChapterId,f()(".j_loading_top"),(function(t){e.getPrevChapterSucc(t)})):this.globalParams.prevChapTpl=null,-1==this.globalParams.prevChapterId&&-1==this.globalParams.nextChapterId||this.initChapterScroll(),g_data.isTranslateMode&&this.MachineEditAPI&&this.MachineEditAPI.editionModalApi.close(),this.ParaCommentAPI&&this.ParaCommentAPI.close(),this.ChapterCommentApi.checkoutCommentByChapterId(this.globalParams.currChapId),this.PopTipsAPI.refresh()},videoShowError:function(t,e){t.removeClass("_loading").removeClass("_success"),(new I.Z).error(e)},skipAdByStone:function(t){var e=this,a=f()(t.currentTarget),o=a.data("unlock-params"),n=g_data.login.user.SS,r=(g_data.login.user.fastPass,a.data("unlock-type")),i=f()(".j_locked_chap"),s=i.data("vtype"),c=a.closest(".chapter_content");if(0==g_data.login.statusCode)if(void 0!==n){a.addClass("_loading"),c.addClass("_disabled");var l=f()(".j_lock_chap_"+o.chapterId);this.payBySS({bookId:g_data.bookId,chapterId:o.chapterId,price:o.chapterPrice,unlockType:r},(function(t){if(e.unlockChapSucc(a,l,o,t,r,s),2==s){e.removeLockSignInCatalog(o.chapterId);try{this.qdReportUtm.utm_source,(0,Ot.hL)((function(){ga("send",{hitType:"event",eventCategory:"Unlock Chapters",eventAction:"Unlock",eventLabel:"Unlock Chapters",eventValue:6})}))}catch(t){}}c.removeClass("_disabled");try{(0,Ot.Fj)((function(){fbq("track","Lead",{content_name:"just_unlock",content_ids:[g_data.bookId],value:0,currency:"USD"})}))}catch(t){}try{var n=document.createElement("img");n.id="1000263062_cpa_testing",n.src="https://ads.trafficjunky.net/tj_ads_pt?a=1000263062&member_id=1003225372&cb=".concat(Math.random(),"&cti=").concat(g_data.login.user.guid,"_").concat(o.chapterId,"&ctv=").concat(5===r?0:o.chapterPrice,"&ctd=unlock_novel"),n.width=1,n.height=1,n.border=0,document.querySelector("body").appendChild(n)}catch(t){console.log(t.message)}}),(function(t){if(1==s)if(3019==t.code){a.data("eid","qi_H_ss"),i.data("l1",7),e.showNotEnoughSS(t.data&&t.data.costCoins,t.data&&t.data.balanceCoins),e.videoShowError(a,t.msg);try{(0,Ot.Fj)((function(){fbq("track","Lead",{content_name:"pay_for_unlock",content_ids:[g_data.bookId],value:0,currency:"USD"})}))}catch(t){}}else 3020==t.code?((new I.Z).error(t.msg),setTimeout((function(){location.reload()}),1e3)):e.videoShowError(a,t.msg);2==s&&e.unlockVip2Error(t,o.chapterId,r,a),a.removeClass("_loading").removeClass("_success"),c.removeClass("_disabled")})).error((function(){(new I.Z).error("network error"),setTimeout((function(){a.removeClass("_loading").removeClass("_success"),c.removeClass("_disabled")}),1e3)}));try{(0,Ot.hL)((function(){ga("send",{hitType:"event",eventCategory:"Click Unlock Button",eventAction:"Click",eventLabel:"Click Unlock Button"})}))}catch(t){}}else e.videoShowError(a,"something is wrong");else f()(document).data("ApiLogin").showLogin()},unlockVip2Error:function(t,e,a,o){var n=f()(".j_lock_chap_"+e),r=n.find(".j_locked_chap"),i=n.data("chaptername"),s=n.data("batchunlockstatus");if(3019==t.code){var c=this.ChapterStore.getChapterInfo(e);c.chapterId||(c={chapterId:e,isVip:2,price:t.data.costCoins,chapterName:i,batchUnlockStatus:s}),(new I.Z).error(t.msg),r.html(b().render("#unlockDom",{chapterInfo:c,bookInfo:{bookId:g_data.bookId},data:{statusCode:g_data.login.statusCode,user:g_data.login.user,membershipStatus:g_data.membershipStatus,waitpayStatus:g_data.waitpayStatus}}))}else 4001==t.code?((new I.Z).error(t.msg),o&&o.attr&&o.attr("disabled",!0)):3020==t.code?location.reload():(new I.Z).error(t.msg)},payBySS:function(t,e,a){return f().ajax({type:"POST",url:"/go/pcm/book/unlockChapter",data:t,success:function(t){0===t.code?"function"==typeof e&&e(t):"function"==typeof a&&a(t)}})},unlockChapSucc:function(t,e,a,o,n,r){var i=this;if(t.addClass("_success"),e.find(".j_locked_chap").addClass("_loading"),setTimeout((function(){i.replaceAuthChapter(a.chapterId,{contents:o.data.contents||o.data.content,isRichFormat:o.data.isRichFormat})}),500),3==+n){var s=Math.max(0,+g_data.login.user.SS-parseInt(a.chapterPrice));(c=f()(".j_ss_stone")).html(Gt()(s)),c.data("ss",s),g_data.login.user.SS=s,i.updateLockedDom(r)}else if(2==+n)s=Math.max(0,+g_data.login.user.SS-parseInt(a.chapterPrice)),(c=f()(".j_ss_stone")).html(Gt()(s)),c.data("ss",s),g_data.login.user.SS=s,i.updateLockedDom(r);else if(5==+n){var c,l=Math.max(0,+g_data.login.user.fastPass-parseInt(a.chapterPrice));(c=f()(".j_fp_stone")).html(Gt()(l)),c.data("fp",l),g_data.login.user.fastPass=l,i.updateLockedDom(r)}},updateLockedDom:function(t){var e=this,a=1==t?"#unlockVideoDom":"#unlockDom",o=f()('.chapter_content[data-islock="1"]'),n=document.createElement("div");function r(o){var n=f()(o).find(".chapter_content"),r=n.length>0?n:f()(o),i=r.data("cid"),s=r.data("price"),c=r.data("chaptername"),l=r.data("batchunlockstatus"),d=e.ChapterStore.getChapterInfo(i);return d.chapterId||(d={chapterId:i,isVip:t,price:s,chapterName:c,batchUnlockStatus:l}),console.log(i,"updateLockedDom","render"),r.find(".j_locked_chap").html(b().render(a,{chapterInfo:d,bookInfo:{bookId:g_data.bookId},data:{statusCode:g_data.login.statusCode,user:g_data.login.user,membershipStatus:g_data.membershipStatus,waitpayStatus:g_data.waitpayStatus}})),f()(o).html()}n.innerHTML=e.globalParams.chapTpl,e.globalParams.chapTpl=r(n),o.each((function(t,e){r(e)}))},showNotEnoughSS:function(t,e){g.Z.send({target:null},{ltype:"P",eid:"qi_D24",l1:11}),this._modApi?this._modApi.load():this._modApi=f()("#unlockMod").overlay({load:!0,onBeforeLoad:function(a){var o=b().render("#unlockDom.html",{price:t,balance:e});f()("#unlockMod").find(".g_mod_bd").html(o)}}).data("overlay")},replaceAuthChapter:function(t,e){e.chapterId=t;var a=f()(".j_lock_chap_"+t);a.find(".j_locked_chap").remove(),a.find(".cha-words").html(b().render("#chaWords.html",{isTranslateMode:g_data.isTranslateMode,isWhiteUser:g_data.isWhiteUser,isLock:0,data:{user:g_data.login.user},chapterInfo:e,bookInfo:{languageName:g_data.languageName},getBookImgUrl:Kt(),getOriginalTag:te(),getUserHomeUrl:rt(),getTranslatorStr:ce(),getUserAvatar:lt(),getUserName:st(),getSplitContent:de(),htmlEncode:he()})),a.find(".cha-content").removeClass("_lock"),this.ParaCommentAPI.initChapterParaComment(t),this.updateChapPosition()},removeLockSignInCatalog:function(t){f()('.j_catalog_modal_body a[data-cid="'+t+'"] .j_tag').remove(),this.apiCatalog&&this.apiCatalog.updateData((function(e){for(var a=e.chapters,o=a.length-1;o--;)if(a[o].chapterId===t)return a[o].isVip=0,{bookInfo:e.bookInfo,chapters:a};return e}))},getChapToken:function(t,e,a,o){f().ajax({type:"GET",url:"/go/pcm/chapter/getContentByToken",data:{bookId:e,chapterId:t},success:function(e){if(0===e.code){var n=f()(".j_lock_chap_"+t);if(e.data.isVip!=n.find(".j_locked_chap").data("vtype"))return void location.reload();"function"==typeof a&&a(e)}else"function"==typeof o&&o(e)}})},reportOnWhat:function(t){g.Z.send(t,{ltype:"H",eid:"qi_H_what"})},postVotePS:function(t){this.powerStoneApi.postPowerVote(t)}});f()((function(){new me})),f()(window).on("load",(function(){"3"===String(g_data.isTranslateMode)&&"1"===String(g_data.bookType)||a.e(3372).then(a.bind(a,3372)).then((function(t){new(0,t.default)}))}))},7619:(t,e,a)=>{"use strict";a.d(e,{fe:()=>h,A3:()=>g,Es:()=>d,nP:()=>l});var o=a(6156),n=a(1253),r=a(8083);const i=function(){return(0,r.tZ)("a",{href:"###",title:"close",className:"_close j_close",children:(0,r.tZ)("svg",{dangerouslySetInnerHTML:{__html:'<use xlink:href="#i-times"></use>'}})})};function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,o.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l=function(t){var e=t.className,a=void 0===e?"":e,o=(0,n.Z)(t,["className"]);return(0,r.tZ)("div",c({className:"g_mod_wrap ".concat(a)},o))},d=function(t){var e=t.className,a=void 0===e?"":e,o=t.isClose,n=void 0===o||o,s=t.title,c=t.children;return(0,r.BX)("div",{className:"g_mod ".concat(a),children:[n?(0,r.tZ)(i,{}):null,s?(0,r.tZ)(p,{children:s}):null,c]})},p=function(t){var e=t.className,a=void 0===e?"":e,o=(0,n.Z)(t,["className"]);return(0,r.tZ)("div",c({className:"g_mod_hd ".concat(a)},o))},h=function(t){var e=t.className,a=void 0===e?"":e,o=(0,n.Z)(t,["className"]);return(0,r.tZ)("div",c({className:"g_mod_bd ".concat(a)},o))},g=i},7091:t=>{"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t)}},3663:(t,e)=>{"use strict";e.ZP=void 0;e.ZP=function t(e){if(!e)return"";if("string"==typeof e.safeHTML)return e.safeHTML;if(e instanceof Array){for(var a="",o=0,n=e.length;o<n;o++)a+=t(e[o]);return a}return e}},1956:(t,e,a)=>{var o;void 0===(o=function(){var n={};return function(r,i,s){if(r){for(var c,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},d={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},h={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g=1;g<20;++g)l[111+g]="f"+g;for(g=0;g<=9;++g)l[g+96]=g.toString();C.prototype.bind=function(t,e,a){var o=this;return t=t instanceof Array?t:[t],o._bindMultiple.call(o,t,e,a),o},C.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},C.prototype.trigger=function(t,e){var a=this;return a._directMap[t+":"+e]&&a._directMap[t+":"+e]({},t),a},C.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},C.prototype.stopCallback=function(t,e){return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&!_(e,this.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable)},C.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},C.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(l[e]=t[e]);c=null},C.init=function(){var t=C(i);for(var e in t)"_"!==e.charAt(0)&&(C[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},C.init(),r.Mousetrap=C,n=C,t.exports&&(t.exports=C),void 0===(o=function(){return C}.call(e,a,e,t))||(t.exports=o)}function u(t,e,a){t.addEventListener?t.addEventListener(e,a,!1):t.attachEvent("on"+e,a)}function f(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return l[t.which]?l[t.which]:d[t.which]?d[t.which]:String.fromCharCode(t.which).toLowerCase()}function m(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,a){return a||(a=function(){if(!c)for(var t in c={},l)t>95&&t<112||l.hasOwnProperty(t)&&(c[l[t]]=t);return c}()[t]?"keydown":"keypress"),"keypress"==a&&e.length&&(a="keydown"),a}function b(t,e){var a,o,n,r=[];for(a=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),n=0;n<a.length;++n)o=a[n],h[o]&&(o=h[o]),e&&"keypress"!=e&&p[o]&&(o=p[o],r.push("shift")),m(o)&&r.push(o);return{key:o,modifiers:r,action:e=v(o,r,e)}}function _(t,e){return null!==t&&t!==i&&(t===e||_(t.parentNode,e))}function C(t){var e=this;if(t=t||i,!(e instanceof C))return new C(t);e.target=t,e._callbacks={},e._directMap={};var a,o={},n=!1,r=!1,s=!1;function c(t){t=t||{};var e,a=!1;for(e in o)t[e]?a=!0:o[e]=0;a||(s=!1)}function l(t,a,n,r,i,s){var c,l,d,p,h=[],g=n.type;if(!e._callbacks[t])return[];for("keyup"==g&&m(t)&&(a=[t]),c=0;c<e._callbacks[t].length;++c)if(l=e._callbacks[t][c],(r||!l.seq||o[l.seq]==l.level)&&g==l.action&&("keypress"==g&&!n.metaKey&&!n.ctrlKey||(d=a,p=l.modifiers,d.sort().join(",")===p.sort().join(",")))){var u=!r&&l.combo==i,f=r&&l.seq==r&&l.level==s;(u||f)&&e._callbacks[t].splice(c,1),h.push(l)}return h}function d(t,a,o,n){e.stopCallback(a,a.target||a.srcElement,o,n)||!1===t(a,o)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(a),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(a))}function p(t){"number"!=typeof t.which&&(t.which=t.keyCode);var a=f(t);a&&("keyup"!=t.type||n!==a?e.handleKey(a,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):n=!1)}function h(t,r,i,p,g){e._directMap[t+":"+i]=r;var u,m=(t=t.replace(/\s+/g," ")).split(" ");m.length>1?function(t,e,r,i){function l(e){return function(){s=e,++o[t],clearTimeout(a),a=setTimeout(c,1e3)}}function p(e){d(r,e,t),"keyup"!==i&&(n=f(e)),setTimeout(c,10)}o[t]=0;for(var g=0;g<e.length;++g){var u=g+1===e.length?p:l(i||b(e[g+1]).action);h(e[g],u,i,t,g)}}(t,m,r,i):(u=b(t,i),e._callbacks[u.key]=e._callbacks[u.key]||[],l(u.key,u.modifiers,{type:u.action},p,t,g),e._callbacks[u.key][p?"unshift":"push"]({callback:r,modifiers:u.modifiers,action:u.action,seq:p,level:g,combo:t}))}e._handleKey=function(t,e,a){var o,n=l(t,e,a),i={},p=0,h=!1;for(o=0;o<n.length;++o)n[o].seq&&(p=Math.max(p,n[o].level));for(o=0;o<n.length;++o)if(n[o].seq){if(n[o].level!=p)continue;h=!0,i[n[o].seq]=1,d(n[o].callback,a,n[o].combo,n[o].seq)}else h||d(n[o].callback,a,n[o].combo);var g="keypress"==a.type&&r;a.type!=s||m(t)||g||c(i),r=h&&"keydown"==a.type},e._bindMultiple=function(t,e,a){for(var o=0;o<t.length;++o)h(t[o],e,a)},u(t,"keypress",p),u(t,"keydown",p),u(t,"keyup",p)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),n}.call(e,a,e,t))||(t.exports=o)},7159:(t,e,a)=>{"use strict";t.exports=a.p+"en/images/imgPh.4f7f9b3b.png"}},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;var a=i[t]={exports:{}};return r[t].call(a.exports,a,a.exports,s),a.exports}s.m=r,t=[],s.O=(e,a,o,n)=>{if(!a){var r=1/0;for(l=0;l<t.length;l++){for(var[a,o,n]=t[l],i=!0,c=0;c<a.length;c++)(!1&n||r>=n)&&Object.keys(s.O).every((t=>s.O[t](a[c])))?a.splice(c--,1):(i=!1,n<r&&(r=n));i&&(t.splice(l--,1),e=o())}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[a,o,n]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,a)=>(s.f[a](t,e),e)),[])),s.u=t=>"en/js/"+t+"."+{446:"80fc366f",939:"6c06b248",1397:"c2130cd5",1490:"23278d8c",1873:"b9b4a2e5",2587:"d238e433",3153:"687f5ef4",3372:"599bea5b",3868:"b5b8f6fc",4353:"0e4fce22",4807:"f7dc7788",5292:"234e7471",5749:"9cd4ccb7",5950:"8bceca66",6224:"93d4d04d",6594:"f1de6931",6864:"8732f49d",6937:"53b36a17",7458:"7cb9bbf7",7734:"8b5b9980",8256:"c9d4d039",8325:"06c02043",8928:"c7df2180",9306:"012b3f2b"}[t]+".js",s.miniCssF=t=>8204===t?"en/css/global_css.0dedba9f.css":"en/chunk/"+t+"."+{1397:"0c8afdd1",1490:"9eeb7e28",3153:"7323d3ad",3372:"9f4a248f",4353:"6e7819bd",4807:"d073cd15",5292:"c435f7c9",5749:"61c7e2ce",6224:"46a392ca",6594:"e3c8bafb",6864:"e71e3868",7734:"8b9c18d1",8928:"05ba41e3",9306:"08bc3cde"}[t]+".css",s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},a="webnovel-pc:",s.l=(t,o,n,r)=>{if(e[t])e[t].push(o);else{var i,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var p=l[d];if(p.getAttribute("src")==t||p.getAttribute("data-webpack")==a+n){i=p;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",a+n),i.src=t),e[t]=[o];var h=(a,o)=>{i.onerror=i.onload=null,clearTimeout(g);var n=e[t];if(delete e[t],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((t=>t(o))),a)return a(o)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),c&&document.head.appendChild(i)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.j=2703,s.p="//www.yueimg.com/",o=t=>new Promise(((e,a)=>{var o=s.miniCssF(t),n=s.p+o;if(((t,e)=>{for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var n=(i=a[o]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(n===t||n===e))return i}var r=document.getElementsByTagName("style");for(o=0;o<r.length;o++){var i;if((n=(i=r[o]).getAttribute("data-href"))===t||n===e)return i}})(o,n))return e();((t,e,a,o)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.onerror=n.onload=r=>{if(n.onerror=n.onload=null,"load"===r.type)a();else{var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=s,n.parentNode.removeChild(n),o(c)}},n.href=e,document.head.appendChild(n)})(t,n,e,a)})),n={2703:0,9675:0},s.f.miniCss=(t,e)=>{n[t]?e.push(n[t]):0!==n[t]&&{1397:1,1490:1,3153:1,3372:1,4353:1,4807:1,5292:1,5749:1,6224:1,6594:1,6864:1,7734:1,8928:1,9306:1}[t]&&e.push(n[t]=o(t).then((()=>{n[t]=0}),(e=>{throw delete n[t],e})))},(()=>{var t={2703:0,9675:0,8204:0};s.f.j=(e,a)=>{var o=s.o(t,e)?t[e]:void 0;if(0!==o)if(o)a.push(o[2]);else if(8204!=e){var n=new Promise(((a,n)=>o=t[e]=[a,n]));a.push(o[2]=n);var r=s.p+s.u(e),i=new Error;s.l(r,(a=>{if(s.o(t,e)&&(0!==(o=t[e])&&(t[e]=void 0),o)){var n=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",i.name="ChunkLoadError",i.type=n,i.request=r,o[1](i)}}),"chunk-"+e,e)}else t[e]=0},s.O.j=e=>0===t[e];var e=(e,a)=>{var o,n,[r,i,c]=a,l=0;for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(c)var d=c(s);for(e&&e(a);l<r.length;l++)n=r[l],s.o(t,n)&&t[n]&&t[n][0](),t[r[l]]=0;return s.O(d)},a=self.webpackChunkwebnovel_pc=self.webpackChunkwebnovel_pc||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var c=s.O(void 0,[8592,8204,1998,1847],(()=>s(1292)));c=s.O(c)})();